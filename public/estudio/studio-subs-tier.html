<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex,nofollow">
  <meta http-equiv='content-language' content='zh-cn'>

  <link rel="icon" href="https://www.bluvarri.com/favicon.png">
  <title>付费订阅 - E-Studio</title>
  <script src="/common/javascripts/avif-webp.min.js"></script>


  <link rel="stylesheet" href="/estudio/stylesheets/studio.scss">
  <link rel="stylesheet" href="/estudio/stylesheets/studio-subs-tier.scss">




</head>

<body>
  <pt-app id="app" v-cloak>
    <!-- header nav -->
    <header class="text-white">
      <div class="d-flex justify-content-between align-items-center hdlayout">

        <div class="d-flex">
          <div class="toggle-nav">
            <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdSidebar"
              aria-controls="bdSidebar" aria-label="Toggle docs navigation">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="bi" fill="currentColor"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z">
                </path>
              </svg>
            </button>
          </div>
          <a href="/estudio/studio-dashboard">
            <div class="d-flex align-items-center logo">
              <img src="/common/icon/logo_blv-final-white.png" alt="logo">
              <h2 class="mb-0 ms-2">E-Studio</h2>
            </div>
          </a>

        </div>

        <div>

          <div class="btn-group" style="margin-right: 8px;">

            <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false">
              <div class="tooltip-nav" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip"
                data-bs-trigger="hover" data-bs-placement="bottom" data-bs-title="访达">
                <i class="bi bi-grid"></i>
              </div>
            </button>
            <ul class="dropdown-menu dropdown-menu-end dropdown-dark">
              <li>
                <a href="/">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-house me-2"></i> 主站首页
                  </button>
                </a>
              </li>
              <li>
                <a href="/rainbow/teixcalaanli">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-rainbow me-2"></i> 彩虹部落
                  </button>
                </a>
              </li>
              <li>
                <a href="/mall/gig-economy">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-bag-heart me-2"></i> 心选商店
                  </button>
                </a>
              </li>
              <li>
                <a href="/affiliate/dashboard">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-megaphone me-2"></i> 带货中心
                  </button>
                </a>
              </li>

              <li>
                <a href="/epod/pod-packages-order">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-tags me-2"></i> 奇迹工坊
                  </button>
                </a>
              </li>
              <li v-if="!!getIdentity().hiLinkUrl">
                <a :href="getIdentity().hiLinkUrl">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-pin-map me-2"></i> {{getIdentity().hiLinkName}}
                  </button>
                </a>
              </li>
            </ul>

          </div>



          <div class="btn-group private-msg-atom" style="margin-right: 8px;">
            <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false">
              <div class="tooltip-nav" data-bs-custom-class="custom-tooltip" data-bs-toggle="tooltip"
                data-bs-placement="bottom" data-bs-trigger="hover" data-bs-title="消息">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M2.80403 8.3533C2.52389 10.9562 2.53637 13.9582 2.9262 16.5505C3.1419 17.9849 4.31257 19.0845 5.75763 19.2102L7.26787 19.3414C10.4169 19.6152 13.5838 19.6152 16.7328 19.3414L18.2431 19.2102C19.6881 19.0845 20.8588 17.9849 21.0745 16.5505C21.4643 13.9582 21.4768 10.9564 21.1967 8.35345C21.1605 8.05169 21.1197 7.75034 21.0745 7.44949C20.8588 6.0151 19.6881 4.91545 18.2431 4.78983L16.7328 4.65855C13.5838 4.38481 10.4169 4.38481 7.26787 4.65855L5.75763 4.78983C4.31257 4.91545 3.1419 6.0151 2.9262 7.44949C2.88096 7.75028 2.84024 8.05159 2.80403 8.3533ZM7.39777 6.15292C10.4604 5.88669 13.5403 5.88669 16.6029 6.15292L18.1131 6.2842C18.8675 6.34977 19.4786 6.92379 19.5912 7.67254C19.6029 7.7503 19.6142 7.82809 19.6253 7.90592L14.0643 10.9954C12.7807 11.7085 11.2199 11.7085 9.93632 10.9954L4.37539 7.90596C4.38645 7.82812 4.39783 7.75031 4.40952 7.67254C4.52211 6.92379 5.13321 6.34977 5.88754 6.2842L7.39777 6.15292ZM19.8088 9.51989C20.0028 11.7876 19.9303 14.0725 19.5912 16.3274C19.4786 17.0762 18.8675 17.6502 18.1132 17.7158L16.6029 17.8471C13.5403 18.1133 10.4604 18.1133 7.39777 17.8471L5.88754 17.7158C5.13321 17.6502 4.52211 17.0762 4.40952 16.3274C4.07043 14.0725 3.99787 11.7877 4.19184 9.51992L9.20786 12.3066C10.9445 13.2714 13.0561 13.2714 14.7928 12.3066L19.8088 9.51989Z"
                    fill="white" />
                </svg>
              </div>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <div class="friend-header">
                私信（{{friends.totalUnRead}}）
              </div>
              <div class="friend-list">

                <li class="friend-item" v-for="friend in friends.records">
                  <a target="_blank" :href="'/messages/'+ friend.id">
                    <div class="friend-container">
                      <div class="frend-avatar-container">
                        <img class="frend-avatar" :src="adaptiveImageUriV(friend.avatar) || defaultAvatarImage"
                          @error.once="e => { e.target.src = defaultAvatarImage }">
                        <div v-if="friend.brandMark=='3'" class="online-indicator">
                          <div class="online-indicator-content">
                          </div>
                        </div>
                      </div>
                      <div class="friend-info">
                        <div class="friend-name"><span class="ellipsis-1">{{friend.title}}</span> </div>
                        <div class="friend-msg"> <span class="ellipsis-1">{{friend.latestContent}}</span> </div>
                        <div class="msg-time">{{getPublishTimeV(friend.modifiedAt)}}</div>
                      </div>
                    </div>
                  </a>
                </li>



              </div>



            </ul>
          </div>

          <div class="btn-group">
            <button type="button" class="btn btn-secondary dropdown-toggle button_user_vue brand-avatar"
              data-bs-toggle="dropdown" aria-expanded="false">
              <img :src="adaptiveImageUriV(getIdentity().avatar)  || defaultAvatarImage"
                @error.once="e => { e.target.src = defaultAvatarImage }">
            </button>
            <ul class="dropdown-menu dropdown-menu-end dropdown-dark">
              <li>
                <a href="/estudio/studio-setting-profile">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-person-vcard me-2"></i> 品牌形象
                  </button>
                </a>
              </li>
              <li>
                <button @click="logout()" class="dropdown-item" type="button">
                  <i class="bi bi-box-arrow-right me-2"></i> 退出登录
                </button>
              </li>
              <li>
                <a href="/mall/delete-account">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-trash3 me-2"></i> 删除账号
                  </button>
                </a>
              </li>

              <li>
                <button class="dropdown-item" type="button" data-bs-toggle="offcanvas"
                  data-bs-target="#feedback_offcanvas_right" aria-controls="feedback_offcanvas_right">
                  <i class="bi bi-flag me-2"></i> 问题反馈
                </button>
              </li>
            </ul>
          </div>


        </div>


      </div>
    </header>
    <content class="bd-layout">
      <aside>
        <div class="offcanvas-xxl offcanvas-start" tabindex="-1" id="bdSidebar"
          aria-labelledby="bdSidebarOffcanvasLabel">
          <div class="offcanvas-header">
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#bdSidebar"
              aria-label="Close"></button>
          </div>
          <!-- menu -->
          <div class="sidebar-wrapper">
            <nav class="sidebar nav">
              <a class="nav-link" href="/estudio/studio-dashboard">
                <div class="nav-icon">
                  <i class="bi bi-rocket-takeoff"></i>
                </div>
                <span>运营数据</span>
              </a>
              <a class="nav-link" href="/estudio/studio-gig-store">
                <div class="nav-icon">
                  <i class="bi bi-shop-window"></i>
                </div>
                <span>技能店铺</span>
              </a>
              <a class="nav-link" href="/estudio/studio-virtual-store">
                <div class="nav-icon">
                  <i class="bi bi-badge-vr"></i>
                </div>
                <span>虚拟店铺</span>
              </a>
              <a class="nav-link" href="/estudio/studio-packages-order">
                <div class="nav-icon">
                  <i class="bi bi-truck"></i>
                </div>
                <span>履约中心</span>
              </a>
              <a class="nav-link" href="/estudio/studio-bill">
                <div class="nav-icon">
                  <i class="bi bi-receipt"></i>
                </div>
                <span>账单管理</span>
              </a>
              <a class="nav-link" href="/estudio/studio-proposals">
                <div class="nav-icon">
                  <i class="bi bi-file-medical"></i>
                </div>
                <span>智能提案</span>
              </a>
              <a class="nav-link" href="/estudio/studio-mps">
                <div class="nav-icon">
                  <i class="bi bi-columns"></i>
                </div>
                <span>商单助手</span>
              </a>
              <a class="nav-link active" href="/estudio/studio-subscription">
                <div class="nav-icon">
                  <i class="bi bi-magic"></i>
                </div>
                <span>付费订阅</span>
              </a>
              <a class="nav-link" href="/estudio/studio-promotion">
                <div class="nav-icon">
                  <i class="bi bi-gift"></i>
                </div>
                <span>营销活动</span>
              </a>
              <a class="nav-link" href="/estudio/studio-msg">
                <div class="nav-icon">
                  <i class="bi bi-bell"></i>
                </div>
                <span>消息通知<sup v-if="includeUnprocessedFeed" class="disabled dot-info"></sup></span>
              </a>
              <a class="nav-link" href="/estudio/studio-dsp">
                <div class="nav-icon">
                  <i class="bi bi-shield-plus"></i>
                </div>
                <span>争端解决</span>
              </a>
              <a class="nav-link" href="/estudio/studio-shop">
                <div class="nav-icon">
                  <i class="bi bi-bag"></i>
                </div>
                <span>补给商城</span>
              </a>
            </nav>
          </div>
        </div>
      </aside>
      <main>
        <div class="main-content-container full">
          <div class="page-title-container">

            <div class="page-title">
              <h1>付费订阅</h1>
            </div>

            <!-- tablist -->
            <div class="paper-tab">
              <ul class="nav nav-tabs border-0" role="tablist">
                <li class="nav-item" role="presentation">
                  <a href="/estudio/studio-subscription">
                    <button class="nav-link" id="subs_list-tab">
                      <div class="head-nav-icon"> <i class="bi bi-list-task"></i> </div> <span class="ms-2">订阅计划</span>
                    </button>
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a href="/estudio/studio-subs-tier">
                    <button class="nav-link active" id="plans_list-tab">
                      <div class="head-nav-icon"> <i class="bi bi-upc"></i></div> <span class="ms-2">套餐专区</span>
                    </button>
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a href="/estudio/studio-subs-product">
                    <button class="nav-link" id="product_list-tab">
                      <div class="head-nav-icon"><i class="bi bi-handbag"></i></div> <span class="ms-2">在售商品</span>
                    </button>
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a href="/estudio/studio-subs-offer">
                    <button class="nav-link" id="offer_list-tab">
                      <div class="head-nav-icon"><i class="bi bi-ticket"></i></div> <span class="ms-2">优惠券</span>
                    </button>
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a href="/estudio/studio-subs-bill">
                    <button class="nav-link" id="bill_list-tab">
                      <div class="head-nav-icon"><i class="bi bi-piggy-bank"></i></div> <span class="ms-2">收银</span>
                    </button>
                  </a>
                </li>
              </ul>
            </div>

            <!--  tablist content-->
            <div class="tab-content" id="subs_list-tab-content">



              <!-- tier tab-->
              <div class="tab-pane fade show active" id="plans_list-tab-pane" role="tabpanel"
                aria-labelledby="plans_list-tab" tabindex="0">
                <div class="d-flex mps-list-header my-3">

                  <button @click="showNewPlanModalV" type="button" class="btn btn-outline-primary me-2">
                    <i class="bi bi-plus"></i> 新设套餐
                  </button>

                  <div class="d-flex">

                    <div class="mps_chain-search d-flex">
                      <form class="nosubmit" onsubmit="return false">
                        <input @keyup.enter.native="searchV" v-model="subs_plan_pagination.param.q"
                          class="nosubmit mps_chain-search-btn" type="search" placeholder="搜索...">
                      </form>
                    </div>
                    <select v-model="subs_plan_pagination.param.tag" @change="filterByStatusV"
                      class="form-select ms-3 list-tb-filter-btn custom-select">
                      <option value="">全部状态</option>
                      <option value="1">{{explainPlanStatusV('1')}}</option>
                      <option value="2">{{explainPlanStatusV('2')}}</option>
                      <option value="3">{{explainPlanStatusV('3')}}</option>
                    </select>

                  </div>

                </div>
                <div class="table-responsive">

                  <div class="table-wrp">

                    <table class="table table-sm table-hover align-middle">
                      <thead>
                        <tr>
                          <th class="col-option"></th>
                          <th class="col-chain-title-no-option">商品</th>
                          <th class="col-chain-title-no-option">套餐</th>
                          <th class="col-type">类型</th>
                          <th class="col-fee">售价(元)</th>
                          <th class="col-type">
                            状态
                          </th>
                          <th class="col-fee">订阅量</th>
                          <th class="col-fee">试用期(天)</th>
                          <th class="col-addTime">宽限期(天)</th>
                          <th class="col-addTime">创建日期</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr v-for="plan in subs_plan_pagination.records">
                          <td class="col-option">

                            <div class="d-flex align-items-center">

                              <span @click="copyValueToClipboardV(plan)" class="btn-option-secondary"
                                data-bs-custom-class="custom-popover" data-bs-placement="bottom" data-bs-trigger="hover"
                                data-bs-toggle="popover" data-bs-content="复制订阅链接">
                                <i class="bi bi-copy"></i>
                              </span>
                              <span class="option-edit ms-3" class="btn-option-secondary">
                                <div class="dropdown">
                                  <a class="btn-option-secondary dropdown-toggle" href="#" role="button"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="bi bi-three-dots"></i>
                                  </a>
                                  <ul class="dropdown-menu">
                                    <li v-show="plan.status!='2'"><a class="dropdown-item" v-preventreclick
                                        @click="changePlanStatusV(plan.id,'2')">上架售卖</a></li>
                                    <li v-show="plan.status=='2'"><a class="dropdown-item" v-preventreclick
                                        @click="changePlanStatusV(plan.id,'3')">下架套餐</a></li>
                                    <li><a class="dropdown-item" v-preventreclick
                                        @click="showEditPlanModalV(plan.id)">编辑套餐</a></li>
                                    <li><a class="dropdown-item" v-preventreclick @click="removePlanV(plan.id)">移除套餐</a>
                                    </li>
                                    <li><a class="dropdown-item" :href="getPlanViewUrlV(plan)">套餐详情</a>
                                    </li>
                                  </ul>
                                </div>
                              </span>

                            </div>



                          </td>

                          <td :title="plan.productName" class="col-chain-title-no-option">
                            <span class="ellipsis-1">
                              {{plan.productName}}
                            </span>
                          </td>
                          <td :title="plan.planName" class="col-chain-title-no-option">
                            <span class="ellipsis-1">
                              {{plan.planName}}
                            </span>
                          </td>
                          <td :title="exlpainPlanTypeV(plan.planType)" class="col-fee">
                            {{exlpainPlanTypeV(plan.planType)}}</td>
                          <td :title="plan.price" class="col-fee">{{plan.price}}</td>
                          <td :title="explainPlanStatusV(plan.status)" class="col-fee">
                            {{explainPlanStatusV(plan.status)}}</td>

                          <td :title="plan.sales" class="col-fee">{{plan.sales}}</td>

                          <td :title="plan.trialPeriod" class="col-fee">{{plan.trialPeriod}}</td>

                          <td :title="plan.gracePeriod" class="col-fee">{{plan.gracePeriod}}</td>

                          <td :title="plan.createAt" class="col-addTime">{{plan.createAt.replace(new RegExp('-', 'g'),
                            '/')}}</td>
                        </tr>
                      </tbody>
                    </table>
                    <div v-show="isEmptyObjV(subs_plan_pagination.records)" class="empty-content-block">

                      没有可用的内容！

                    </div>
                    <nav v-if="!!subs_plan_pagination.paging" aria-label="Page navigation" class="millstone-pagination">
                      <ul class="pagination pagination-lg pagination-dark  border-0">
                        <li class="page-item" @click="pagePre(subs_plan_pagination)">
                          <a class="page-link" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                          </a>
                        </li>
                        <li class="page-item" v-for="page in subs_plan_pagination.paging.items"
                          :class="{'current-page-active': subs_plan_pagination.paging.current == page}"
                          @click="pageGo(subs_plan_pagination,page)"><a class="page-link">{{page}}</a></li>
                        <li class="page-item" @click="pageNext(subs_plan_pagination)">
                          <a class="page-link" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                          </a>
                        </li>
                      </ul>
                    </nav>

                  </div>



                </div>

              </div>

              <!-- plan end -->





            </div>
            <!--  tablist content end-->
          </div>
          <!-- page-title-container end -->
        </div>
        <div class="empty-box"></div>

      </main>
      <section class="modals">
        <!-- new plan modal -->
        <div class="modal-container">
          <div class="modal  fade" id="newPlanModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
              <div class="modal-content">
                <div class="modal-header  display-dialog-header-bg">
                  <h1 class="modal-title fs-5">添加套餐</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex justify-content-center border-0 display-dialog-body-bg">

                  <form class="w-100" onsubmit="return false">

                    <div class="mt-3">
                      <label for="newPlanObj__product" class="form-label d-flex">
                        商品
                        <a href="/estudio/studio-subs-product">
                          <div type="button" class="add-icon ms-1">
                            <i class="bi bi-plus-circle-fill"></i>
                          </div>
                        </a>
                      </label>
                      <div class="input-group">
                        <model-select :options="subsProductsOptions" v-model="subsProductsSelectedItem" placeholder="">
                        </model-select>
                      </div>
                    </div>

                    <div class="mt-3">
                      <label for="newPlanObj__tierName" class="form-label">套餐名称</label>
                      <input id="newPlanObj__tierName" v-model="newPlanObj.planName" class="form-control" maxlength="32"
                        type="text" autocomplete="off">
                    </div>
                    <div class="mt-3">
                      <label for="newPlanObj__tierType" class="form-label">套餐类型<span class="help-text ms-1"
                          data-bs-custom-class="custom-popover" data-bs-placement="right" data-bs-trigger="hover"
                          data-bs-toggle="popover" data-bs-content="标准型套餐为规模化、标准化、大众化的订阅形式，灵活型套餐适用于为大客户、特殊客户提供定制化订阅"><i
                            class="bi bi-question-circle"></i></span></label>
                      <div class="input-group">
                        <select v-model="newPlanObj.planType" class="form-select">
                          <option value="standard">标准型</option>
                          <option value="flex">灵活型</option>
                        </select>
                      </div>

                    </div>
                    <div class="mt-3">
                      <label for="newPlanObj__tierPrice" class="form-label">售价(元)</label>
                      <div class="input-group mb-3">
                        <span class="input-group-text">￥</span>
                        <input id="newPlanObj__tierPrice" @input="transformInputNumberAsPositiveDecimalV($event)"
                          v-model="newPlanObj.price" class="form-control"  max="500000000" step="1" type="text"
                          autocomplete="off">
                        <span class="input-group-text" id="basic-addon2">/月</span>
                      </div>
                    </div>
                    <div class="mt-3">
                      <label for="newPlanObj__tierDesc" class="form-label">套餐描述</label>
                      <textarea id="newPlanObj__tierDesc" rows="6" v-model="newPlanObj.description" class="form-control"
                        maxlength="172"></textarea>
                    </div>
                    <div class="mt-3">
                      <label for="newPlanObj__features" class="form-label">权益</label>
                      <div class="input-group">

                        <div v-for="(featureItem,index)   in newPlanObj.featuresObj"
                          class="card feature-card w-100 mb-2">
                          <h5 class="card-header d-flex justify-content-between">
                            <input maxlength="32" v-model="featureItem.title" type="text" class="form-control feature-input"
                              autocomplete="off" placeholder="权益项（比如 居家保洁服务）">
                            <div class="dropdown ms-2">
                              <button class="btn btn-light dropdown-toggle" href="#" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-three-dots-vertical"></i>
                              </button>
                              <ul class="dropdown-menu">
                                <li><a class="dropdown-item py-2" v-preventreclick
                                    @click="newPlanObjAddOneFeatureUpV(index)">向上插入</a></li>
                                <li><a class="dropdown-item py-2" v-preventreclick
                                    @click="newPlanObjAddOneFeatureBelowV(index)">向下插入</a></li>
                                <li><a class="dropdown-item py-2" v-preventreclick
                                    @click="newPlanObjRemoveOneFeatureV(index)">删除权益</a></li>
                              </ul>
                            </div>
                          </h5>
                          <div class="card-body">
                            <textarea rows="5" v-model="featureItem.description" class="form-control feature-input"
                              maxlength="100" placeholder="权益说明（比如 每双周对客厅、阳台、厨房、客厅、卧室、厕所清理一次）"></textarea>
                          </div>
                        </div>

                      </div>
                      <button @click="addNewPlanFeatureV" class="btn btn-outline-dark new-item"
                        type="button">添加权益</button>
                    </div>
                    <div class="mt-3">
                      <label for="newPlanObj__trial_period" class="form-label">试用期<span class="help-text ms-1"
                          data-bs-custom-class="custom-popover" data-bs-placement="right" data-bs-trigger="hover"
                          data-bs-toggle="popover" data-bs-content="客户订阅后的试用时间，首次订阅用户试用结束后才进行扣费，同一套餐，单个客户仅有一次试用机会"><i
                            class="bi bi-question-circle"></i></span></label>
                      <input id="newPlanObj__trial_period" @input="transformInputNumberV($event)"
                        v-model="newPlanObj.trialPeriod" class="form-control" min="1" max="25" step="1" type="text"
                        autocomplete="off">
                    </div>
                    <div class="mt-3 mb-5">
                      <label for="newPlanObj__grace_period" class="form-label">宽限期<span class="help-text ms-1"
                          data-bs-custom-class="custom-popover" data-bs-placement="right" data-bs-trigger="hover"
                          data-bs-toggle="popover"
                          data-bs-content="如果订阅因付款问题而无法自动续期，订阅者在一段时间内仍可访问您提供的订阅内容，在此期间 班蔚 将继续尝试收取费用。如果 班蔚 能够在账单宽限期内恢复订阅，则该订阅者的付费服务天数不会中断累积，你的收益也不会受影响。"><i
                            class="bi bi-question-circle"></i></span></label>
                      <input id="newPlanObj__grace_period" @input="transformInputNumberV($event)"
                        v-model="newPlanObj.gracePeriod" class="form-control" min="1" max="25" step="1" type="text"
                        autocomplete="off">
                    </div>




                    <button 
                     :disabled="!validateNewPlanFormV()" 
                      type="submit" v-preventreclick @click="createOnePlanV"
                      class="btn btn-primary submit-btn w-100 mb-4 py-3">提交</button>


                  </form>

                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- edit plan modal -->
        <div class="modal-container">
          <div class="modal define-tier-modal fade" id="editPlanModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
              <div class="modal-content">
                <div class="modal-header display-dialog-header-bg">
                  <h1 class="modal-title fs-5 fw-bold">编辑套餐</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
        
                <div class="modal-body border-0 display-dialog-body-bg">
                  <form class="w-100" onsubmit="return false">
                    
                    <div class="form-section-card mb-4">
                      <div class="section-label">基本信息</div>
                      
                      <div class="mb-3">
                        <label for="editPlanObj__tierName" class="form-label">套餐名称</label>
                        <input id="editPlanObj__tierName" @change="btn_ctl.eidtPlanObj_already_change=true"
                          v-model="eidtPlanObj.planName" class="form-control" maxlength="32" type="text" autocomplete="off" placeholder="例：高级会员">
                      </div>
        
                      <div class="mb-3">
                        <label for="editPlanObj__tierPrice" class="form-label">售价(元)</label>
                        <div class="input-group">
                          <span class="input-group-text">￥</span>
                          <input id="editPlanObj__tierPrice" @change="btn_ctl.eidtPlanObj_already_change=true"
                             @input="transformInputNumberAsPositiveDecimalV($event)"
                              max="500000000"
                            v-model="eidtPlanObj.price" class="form-control" type="text" autocomplete="off">
                          <span class="input-group-text">/月</span>
                        </div>
                      </div>
        
                      <div class="mb-0">
                        <label for="editPlanObj__tierDesc" class="form-label">套餐描述</label>
                        <textarea id="editPlanObj__tierDesc" @change="btn_ctl.eidtPlanObj_already_change=true" rows="3"
                          v-model="eidtPlanObj.description" class="form-control" maxlength="172" placeholder="简述套餐的核心价值..."></textarea>
                      </div>
                    </div>
        
                    <div class="form-section-card mb-4">
                      <div class="section-label">权益配置</div>
                      
                      
                      <!-- Wrapper for the list with Vue Transitions -->
                      <transition-group name="feature-list" tag="div" class="feature-container">
                        <div v-for="(featureItem, index) in eidtPlanObj.featuresObj" 
                            :key="featureItem.id || index" 
                            class="card feature-card w-100 mb-3 shadow-sm">
                          
                          <!-- Header: Seamless Title Input & Action Menu -->
                          <div class="card-header bg-white d-flex align-items-center py-2 px-3 border-bottom-0">
                            <input 
                              v-model="featureItem.title"
                              maxlength="32" 
                              class="form-control feature-input-title fw-bold" 
                              placeholder="权益项（例如：居家保洁服务）"
                              @change="btn_ctl.eidtPlanObj_already_change=true" autocomplete="off">
                            
                            <!-- Action Menu -->
                            <div class="dropdown ms-2">
                              <button class="btn btn-sm btn-light rounded-circle shadow-none" type="button" data-bs-toggle="dropdown">
                                <i class="bi bi-three-dots-vertical"></i>
                              </button>
                              <ul class="dropdown-menu dropdown-menu-end shadow border-0">
                                <li>
                                  <a class="dropdown-item py-2" @click="editPlanObjAddOneFeatureUpV(index)">
                                    <i class="bi bi-arrow-up-short me-2"></i> 向上插入
                                  </a>
                                </li>
                                <li>
                                  <a class="dropdown-item py-2" @click="editPlanObjAddOneFeatureBelowV(index)">
                                    <i class="bi bi-arrow-down-short me-2"></i> 向下插入
                                  </a>
                                </li>
                                <li><hr class="dropdown-divider"></li>
                                <li>
                                  <a class="dropdown-item py-2 text-danger" @click="editPlanObjRemoveOneFeatureV(index)">
                                    <i class="bi bi-trash3 me-2"></i> 删除权益
                                  </a>
                                </li>
                              </ul>
                            </div>
                          </div>

                          <!-- Body: Seamless Description Textarea -->
                          <div class="card-body pt-0 px-3 pb-3">
                            <textarea 
                              v-model="featureItem.description"
                              rows="3" 
                              class="form-control feature-input-desc" 
                              maxlength="100"
                              placeholder="在此输入详细的权益描述..."
                              @change="btn_ctl.eidtPlanObj_already_change=true"
                            ></textarea>
                          </div>
                        </div>
                      </transition-group>

        
                      <button @click="addNewEditPlanFeatureV" class="btn new-item-btn" type="button">
                        <i class="bi bi-plus-circle me-2"></i>添加权益
                      </button>
                    </div>
        
                    <div class="form-section-card mb-5">
                      <div class="section-label">试用&续期</div>
                      <div class="row">
                        <div class="col-6">
                          <label for="editPlanObj__trial_period" class="form-label">试用期 (天)</label>
                          <input @input="transformInputNumberV($event)" 
                            @change="btn_ctl.eidtPlanObj_already_change=true"
                            min="1" max="25"
                            id="editPlanObj__trial_period" v-model="eidtPlanObj.trialPeriod" class="form-control" type="text" autocomplete="off">
                        </div>
                        <div class="col-6">
                          <label for="editPlanObj__grace_period" class="form-label">宽限期 (天)</label>
                          <input 
                            @input="transformInputNumberV($event)"
                            @change="btn_ctl.eidtPlanObj_already_change=true"
                            min="1" max="25"
                            id="editPlanObj__grace_period" v-model="eidtPlanObj.gracePeriod" class="form-control" type="text" autocomplete="off">
                        </div>
                      </div>
                    </div>
        
                    <button 
                      :disabled="!validateEditPlanFormV()"
                      @click="changePlanV"
                      v-preventreclick
                      type="submit" 
                      class="btn btn-primary submit-btn w-100 mb-4 py-3">提交</button>
        
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>        
      </section>

    </content>

  </pt-app>
  <section class="feedback_offcanvas" id="section_feedback_offcanvas">

    <div class="offcanvas offcanvas-end" tabindex="-1" id="feedback_offcanvas_right"
      aria-labelledby="feedbackOffcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="feedbackOffcanvasRightLabel">发送反馈到小蔚</h5>
        <button id="closeFeedbackOffcanvas" type="button" class="btn-close" data-bs-dismiss="offcanvas"
          aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <form id="feedback-form">
          <div class="mt-3">
            <label for="input_issue" class="form-label">您遇到的具体问题是什么(必填,300字以内)</label>
            <textarea rows="8" type="text" maxlength="300" class="form-control" id="input_issue"></textarea>
          </div>
          <div class="mt-3">
            <label class="form-label">附件图片(选填)</label>
            <div class="feedback-attachment-upload-container dropzone-wrapper">
              <img id="lastestFeedbackAttachment">
              <div class="dropzone-desc">
                <i class="bi bi-cloud-plus"></i>
              </div>
              <input type="file" id="input_issue_attachment" accept="image/jpg, image/png, image/jpeg" class="dropzone">
            </div>
          </div>
          <div class="mt-3">
            <label for="input_issue_contact" class="form-label">您的联系方式(选填)</label>
            <input id="input_issue_contact" min="1" max="50000" step="1" type="text" class="form-control"
              placeholder="请留下邮箱或电话，使我们快速反馈">
          </div>
          <button type="submit" class="btn btn-primary mt-5 w-100">提交</button>
        </form>
      </div>
    </div>

  </section>
  <script type="module" src="/common/javascripts/feedback.js"></script>

  <script type="module" src="/common/javascripts/tm.js"></script>
  <script type="module" src="/estudio/javascripts/studio-subs-tier.js"></script>


</body>

</html>