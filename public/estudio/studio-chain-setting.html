<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name=”robots” content=”noindex,nofollow”>
    <meta http-equiv ='content-language' content ='zh-cn'>

    <link rel="icon" href="https://www.bluvarri.com/favicon.png">
    <title>设置合约模版 - E-Studio</title>
    <script src="/common/javascripts/avif-webp.min.js"></script>
    <link rel="stylesheet" href="/estudio/stylesheets/studio.scss">
    <link rel="stylesheet" href="/estudio/stylesheets/studio-chain-setting.scss">



</head>
<body>
  <pt-app id="app" v-cloak>
    <!-- header nav -->
    <header class="text-white">
      <div class="d-flex justify-content-between align-items-center hdlayout">

        <div class="d-flex">
          <div class="toggle-nav">
            <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdSidebar" aria-controls="bdSidebar" aria-label="Toggle docs navigation">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="bi" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
              </svg>
            </button>
          </div>
          <a href="/estudio/studio-dashboard">
            <div class="d-flex align-items-center logo">
              <img src="/common/icon/logo_blv-final-white.png" alt="logo">
              <h2 class="mb-0 ms-2">E-Studio</h2>
            </div>
          </a>

        </div>
        
        <div>
          
          <div class="btn-group" style="margin-right: 8px;" >
          
            <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false" >
              <div class="tooltip-nav" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-trigger="hover" data-bs-placement="bottom" data-bs-title="访达">
                <i class="bi bi-grid"></i>                  
              </div>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <li>
                <a href="/">
                  <button class="dropdown-item" type="button">
                    <img class="forward-icon me-2" src="/common/icon/logo_blv-final-black.png" alt="blv-logo"> 主站首页
                  </button>
                </a>
              </li>
              <li>
                <a href="/rainbow/teixcalaanli">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-rainbow me-2"></i> 彩虹部落
                  </button>
                </a>
              </li>
              <li>
                <a href="/mall/gig-economy">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-bag-heart me-2"></i> 心选商店
                  </button>
                </a>
              </li>
              <li>
                <a href="/affiliate/dashboard">
                  <button class="dropdown-item" type="button" >
                    <i class="bi bi-megaphone me-2"></i> 带货中心
                  </button>
                </a>
              </li>
              
              <li>
                <a href="/epod/pod-packages-order">
                  <button class="dropdown-item" type="button" >
                    <i class="bi bi-tags me-2"></i> 奇迹工坊
                  </button>
                </a>
              </li>
              <li v-if="!!getIdentity().hiLinkUrl">
                <a :href="getIdentity().hiLinkUrl">
                  <button class="dropdown-item" type="button" >
                    <i class="bi bi-pin-map me-2"></i> {{getIdentity().hiLinkName}}
                   </button>
                </a>
              </li>
            </ul>

          </div>

        

          <div class="btn-group private-msg-atom" style="margin-right: 8px;">
            <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false">
              <div class="tooltip-nav" data-bs-custom-class="custom-tooltip" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" data-bs-title="消息">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.80403 8.3533C2.52389 10.9562 2.53637 13.9582 2.9262 16.5505C3.1419 17.9849 4.31257 19.0845 5.75763 19.2102L7.26787 19.3414C10.4169 19.6152 13.5838 19.6152 16.7328 19.3414L18.2431 19.2102C19.6881 19.0845 20.8588 17.9849 21.0745 16.5505C21.4643 13.9582 21.4768 10.9564 21.1967 8.35345C21.1605 8.05169 21.1197 7.75034 21.0745 7.44949C20.8588 6.0151 19.6881 4.91545 18.2431 4.78983L16.7328 4.65855C13.5838 4.38481 10.4169 4.38481 7.26787 4.65855L5.75763 4.78983C4.31257 4.91545 3.1419 6.0151 2.9262 7.44949C2.88096 7.75028 2.84024 8.05159 2.80403 8.3533ZM7.39777 6.15292C10.4604 5.88669 13.5403 5.88669 16.6029 6.15292L18.1131 6.2842C18.8675 6.34977 19.4786 6.92379 19.5912 7.67254C19.6029 7.7503 19.6142 7.82809 19.6253 7.90592L14.0643 10.9954C12.7807 11.7085 11.2199 11.7085 9.93632 10.9954L4.37539 7.90596C4.38645 7.82812 4.39783 7.75031 4.40952 7.67254C4.52211 6.92379 5.13321 6.34977 5.88754 6.2842L7.39777 6.15292ZM19.8088 9.51989C20.0028 11.7876 19.9303 14.0725 19.5912 16.3274C19.4786 17.0762 18.8675 17.6502 18.1132 17.7158L16.6029 17.8471C13.5403 18.1133 10.4604 18.1133 7.39777 17.8471L5.88754 17.7158C5.13321 17.6502 4.52211 17.0762 4.40952 16.3274C4.07043 14.0725 3.99787 11.7877 4.19184 9.51992L9.20786 12.3066C10.9445 13.2714 13.0561 13.2714 14.7928 12.3066L19.8088 9.51989Z" fill="white"/>
                  </svg>  
              </div>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <div class="friend-header">
                私信（{{friends.totalUnRead}}）
              </div>
              <div class="friend-list">

                <li class="friend-item"   v-for="friend in friends.records">
                  <a target="_blank" :href="'/messages/'+ friend.id">
                    <div class="friend-container">
                      <div class="frend-avatar-container">
                        <img class="frend-avatar" :src="adaptiveImageUriV(friend.avatar) || defaultAvatarImage" @error.once="e => { e.target.src = defaultAvatarImage }">
                        <div v-if="friend.brandMark=='3'" class="online-indicator">
                          <div class="online-indicator-content">
                          </div>
                        </div>
                      </div>
                      <div class="friend-info">
                        <div class="friend-name"><span class="ellipsis-1">{{friend.title}}</span> </div>
                        <div class="friend-msg"> <span class="ellipsis-1">{{friend.latestContent}}</span> </div>
                        <div class="msg-time">{{getPublishTimeV(friend.modifiedAt)}}</div>
                      </div>
                    </div>
                  </a>
                </li>

              

              </div>
              


            </ul>
          </div>

          <div class="btn-group">
            <button type="button" class="btn btn-secondary dropdown-toggle button_user_vue brand-avatar" data-bs-toggle="dropdown" aria-expanded="false">
              <img  :src="adaptiveImageUriV(getIdentity().avatar)  || defaultAvatarImage" @error.once="e => { e.target.src = defaultAvatarImage }">
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <li>
                <a href="/estudio/studio-setting-profile">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-person-vcard me-2"></i> 品牌形象
                  </button>
                </a>
              </li>
              <li>
                  <button @click="logout()" class="dropdown-item" type="button">   
                    <i class="bi bi-box-arrow-right me-2"></i> 退出登录 
                  </button>
              </li>
              <li>
                <a href="/mall/delete-account">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-trash3 me-2"></i> 删除账号
                  </button>
                </a>
              </li>
              
              <li>
                <button class="dropdown-item" type="button" data-bs-toggle="offcanvas" data-bs-target="#feedback_offcanvas_right" aria-controls="feedback_offcanvas_right">
                  <i class="bi bi-flag me-2"></i> 问题反馈
                </button>
              </li>
            </ul>
          </div>

          
        </div>


      </div>
    </header>
    <content class="bd-layout">
      <aside>
        <div class="offcanvas-xxl offcanvas-start" tabindex="-1" id="bdSidebar" aria-labelledby="bdSidebarOffcanvasLabel">
          <div class="offcanvas-header">
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#bdSidebar" aria-label="Close"></button>
          </div> 
          <!-- menu -->
          <div class="sidebar-wrapper">
            <nav class="sidebar nav">
              <a class="nav-link" href="/estudio/studio-dashboard">
                <div class="nav-icon">
                  <i class="bi bi-rocket-takeoff"></i>
                </div>
                <span>运营数据</span>
              </a>
              <a class="nav-link" href="/estudio/studio-gig-store">
                <div class="nav-icon">
                  <i class="bi bi-shop-window"></i>
                </div>
                <span>技能店铺</span>
              </a>
              <a class="nav-link" href="/estudio/studio-virtual-store">
                <div class="nav-icon">
                  <i class="bi bi-badge-vr"></i>
                </div>
                <span>虚拟店铺</span>  
              </a>
              <a class="nav-link" href="/estudio/studio-packages-order">
                <div class="nav-icon">
                  <i class="bi bi-truck"></i>
                </div>
                <span>履约中心</span>        
              </a>
              <a class="nav-link" href="/estudio/studio-bill">
                <div class="nav-icon">
                  <i class="bi bi-receipt"></i>
                </div>
                <span>账单管理</span>
              </a>
              <a class="nav-link" href="/estudio/studio-proposals">
                <div class="nav-icon">
                  <i class="bi bi-file-medical"></i>
                </div>
                <span>智能提案</span>
              </a>
              <a class="nav-link active" href="/estudio/studio-mps">
                <div class="nav-icon">
                  <i class="bi bi-columns"></i>
                </div>
                <span>商单助手</span>
              </a>
              <a class="nav-link" href="/estudio/studio-subscription">
                <div class="nav-icon">
                  <i class="bi bi-magic"></i>
                </div>
                <span>付费订阅</span>
              </a>
              <a class="nav-link" href="/estudio/studio-promotion">
                <div class="nav-icon">
                  <i class="bi bi-gift"></i>
                </div>
                <span>营销活动</span>
              </a>
              <a class="nav-link" href="/estudio/studio-msg">
                <div class="nav-icon">
                  <i class="bi bi-bell"></i>
                </div>
                <span>消息通知<sup v-if="includeUnprocessedFeed" class="disabled dot-info"></sup></span>
              </a>
              <a class="nav-link" href="/estudio/studio-dsp">
                <div class="nav-icon">
                  <i class="bi bi-shield-plus"></i>
                </div>
                <span>争端解决</span>
              </a>
              <a class="nav-link" href="/estudio/studio-shop">
                <div class="nav-icon">
                  <i class="bi bi-bag"></i>
                </div>
                <span>补给商城</span>
              </a>
            </nav>
          </div>
        </div>
      </aside>
      <main>

        <div class="chain-setting-container">

          <form onsubmit="return false">
            <div class="row mb-3 mt-3">
              <label for="inputTitle" class="col-sm-4 col-form-label"> 
                合集名称 <div class="help-text"> 模版集名称(最大80字符) </div>
              </label>
              <div class="col-sm-8">
                <textarea v-model="chain.title" @change="btn_ctl.activate_save_mps_chain__btn=true" class="form-control" maxlength="80" aria-label="With textarea"></textarea>
              </div>
            </div>
            <div v-if="inEditChainModeV()" class="row mb-3 mt-3">
              <label for="inputTitle" class="col-sm-4 col-form-label"> 
                合集状态 <div class="help-text"> 设置模版集状态 </div>
              </label>
              <div class="col-sm-8">
                <select class="form-select" v-model="chain.tag" @change="btn_ctl.activate_save_mps_chain__btn=true">
                  <option value="1">运行中</option>
                  <option value="2">休止</option>
                </select>
              </div>
            </div>
            <button v-preventreclick
             @click="saveMpsChainV"
             :class="{'disabled': !btn_ctl.activate_save_mps_chain__btn || !chain.title, 
                      'btn-primary': btn_ctl.activate_save_mps_chain__btn && chain.title,
                      'btn-secondary': !btn_ctl.activate_save_mps_chain__btn || !chain.title}"
              type="submit" class="btn">保存</button>
          </form>
          <div class="edit-chain-panel">
            <section class="section-tool-bar">
              <div class="d-flex tool-bar my-5">
                <div v-show="btn_ctl.activate_show_add_template_model__btn" class="add-new-role-container" >
                  <div class="add-new-row">
                    <button @click="showNewChainTemplateModalV" type="button" class="btn btn-primary me-5">
                      <i class="bi bi-plus"></i>
                      新增商单模版
                    </button>
                  </div>
                 
                </div>

              </div>

            </section>


            <div class="mps-panel">
              <section class="event-wrapper new-order">
                <div 
                  class="row gx-3 gy-3  row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 row-cols-xxl-5">

                  <div v-for="record in template.records" class="col">

                    <div v-preventreclick   @click="findTemplateDetailV(record.id)" class="template-container">
                      <label>
                        <span class="event-icon new-order">
                          <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle v-show="!(templateDetail.id===record.id)" cx="50" cy="50" r="50" fill="#4CFFA9" fill-opacity="0.7"/>
                            <rect v-show="templateDetail.id===record.id"  rx="10" ry="10" width="100" height="100" fill="#4CFFA9" fill-opacity="0.7" />
                            <path d="M59.05 33H64C64.5304 33 65.0391 33.2107 65.4142 33.5858C65.7893 33.9609 66 34.4696 66 35V68C66 68.5304 65.7893 69.0391 65.4142 69.4142C65.0391 69.7893 64.5304 70 64 70H36C35.4696 70 34.9609 69.7893 34.5858 69.4142C34.2107 69.0391 34 68.5304 34 68V35C34 34.4696 34.2107 33.9609 34.5858 33.5858C34.9609 33.2107 35.4696 33 36 33H43V36H57V33H59.05Z" stroke="#FAF7F7" stroke-width="4" stroke-linejoin="round"/>
                            <path d="M53 45L45 53.001H55.004L47 61.001M43 30H57V36H43V30Z" stroke="#FAF7F7" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>                          
                        </span>
                      </label>
                      <div class="tp-desc">
                        <div>{{record.piece}} </div>
                        <div>:::: {{record.id.substring(0,3)}} ::::</div>
                      </div>
                    </div>


                  </div>

 

                </div>
                
                
              </section>
            </div>
            <div v-show="!isEmptyObjectV(templateDetail)" class="mps-panel-detail">
              <h1 class="deltail-title">{{templateDetail.title}}</h1>
              <h2 class="detail-sow-heading">合约内容</h2>
              <p class="detail-sow-content">
                {{templateDetail.sow}}
              </p>
              <div class="detail-item">
                <div class="detail-item-head">
                  职能
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.piece}}
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-item-head">
                  奖金/元
                </div>
                <div class="detail-item-content">
                  <span>
                    {{Number(templateDetail.bonus).toFixed(0)}} 
                  </span>
                </div>
              </div>

              <div  v-if="!!templateDetail.firstSupplierName" class="detail-item">
                <div class="detail-item-head">
                  一级服务商
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.firstSupplierName}}
                  </span>
                </div>
              </div>
              <div  v-if="(!!templateDetail.firstSupplierName) && (!!templateDetail.duration)" class="detail-item">
                <div class="detail-item-head">
                  机遇期/天
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.duration}} 
                  </span>
                </div>
              </div>

              <div class="detail-item">
                <div class="detail-item-head">
                  交付周期/天
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.deliveryCycle}} 
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-item-head">
                  招商期/天
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.contractValidityPeriod}} 
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-item-head">
                  经验要求
                </div>
                <div class="detail-item-content">
                  <span>
                    {{!!templateDetail.experience ? templateDetail.experience + "年及以上从业经验" : "不限"}}
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-item-head">
                  接单消耗电量
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.bidElectricity}} 
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-item-head">
                  办公地点
                </div>
                <div class="detail-item-content">
                  <span>
                    {{templateDetail.location}} 
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="detail-item-head">
                  任务难度
                </div>
                <div class="detail-item-content">
                  <span>
                    {{explainMpsDifficultyV(templateDetail.difficulty)}} 
                  </span>
                </div>
              </div>
              <div class="detail-item">
                <div class="skills-box">
                  <div class="skill-pill" v-for="skill in templateDetail.skills">
                    {{skill}}
                  </div>
                </div>
              </div>
              <div class="pt-5 pb-2">

                <button @click="showEditTemplateModelV"  class="btn btn-primary">编辑模版</button>

                <button v-preventreclick @click="removeTemplateV(templateDetail.id)" class="btn btn-danger mx-5">删除模版</button>

              </div>
            </div>
            
          </div>

        </div>
        <div class="empty-box"></div>

      </main>
      <section class="modals">
        <div class="modal-container">
          <!-- Modal -->
          <div class="modal fade" id="newChainTemplateModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
              <div class="modal-content text-color-dark">
                <div class="modal-header">
                  <h2 class="modal-title fs-5" >新增商单模版</h2>
                  <button  type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex justify-content-center">
                  <form onsubmit="return false">
                    <div class="row mb-3 mt-3">
                      <label for="new__inputTitle" class="col-sm-4 col-form-label"> 
                        名称 <div class="help-text"> 商单模版名称(最大80字符，必填) </div>
                      </label>
                      <div class="col-sm-8">
                        <textarea id="new__inputTitle" v-model="newTemplate.title" class="form-control" maxlength="80" aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="new__inputSow" class="col-sm-4 col-form-label"> 
                        合约内容 <div class="help-text"> 设置合约内容，如工作范围,交付物,Tech Pack 等，必填 </div>
                      </label>
                      <div class="col-sm-8">
                        <textarea maxlength="2000" id="new__inputSow" v-model="newTemplate.sow" class="form-control" rows="13"  aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="new__inputPiece" class="col-sm-4 col-form-label"> 
                        职能 <div class="help-text"> 合约定位如设计、管理、测试等，准确的职能设置可以更精确匹配您的服务商 (最大80字符，必填) </div>
                      </label>
                      <div class="col-sm-8">
                        <input id="new__inputPiece" class="form-control" v-model="newTemplate.piece" maxlength="80" type="text">
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="new__inputBonus" class="col-sm-4 col-form-label"> 
                        奖金 <div class="help-text"> 完成合约时支付给服务商的货币奖励(单位：元，必填) </div>
                      </label>
                      <div class="col-sm-8">
                        <input id="new__inputBonus" class="form-control" v-model="newTemplate.bonus" @input="transformInputNumberV($event)" min="1" max="5000000" step="1"  type="number">
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="new__inputFirstSupplier" class="col-sm-4 col-form-label"> 
                        1级服务商 <div class="help-text"> 指定特定服务商，商单会直接提交给该服务商 </div>
                      </label>
                      <div class="col-sm-8">
                        <div>
                          <input class="iput" placeholder="输入关键词,键入回车搜索" @click="showOptionV()" @keyup.enter.native="searchV($event)">
                        </div>
                        <div class="op-list hidden">
                            <div class="iop">--请选择--</div>
                            <div v-for="opt in supplier.records" class="iop" :id="opt.id">{{opt.brandName}}</div>
                        </div>
                        <!-- <input v-model="newTemplate.firstSupplier" type="text"> -->
                      </div>
                    </div>
                    <div class="row mb-3 mt-3" >
                      <label for="new__inputDuration" class="col-sm-4 col-form-label"> 
                        机遇期 <div class="help-text"> 指定1级服务商接单周期，超出该时间间隔1级服务商未接单，商单进入商单市场(单位：天)</div>
                      </label>
                      <div class="col-sm-8">
                        <input id="new__inputDuration" 
                        class="form-control" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="newTemplate.duration" type="number" v-bind:disabled="!newTemplate.firstSupplier">
                      </div>
                    </div>

                    <div class="row mb-3 mt-3" >
                      <label for="new__inputDeliveryCycle" class="col-sm-4 col-form-label"> 
                        交付周期 <div class="help-text"> 告知服务商理想条件下，应在指定的时间内给出最终交付(单位：天，必填)</div>
                      </label>
                      <div class="col-sm-8">
                        <input id="new__inputDeliveryCycle" 
                        class="form-control" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="newTemplate.deliveryCycle" type="number">
                      </div>
                    </div>

                    <div class="row pb-3 mt-3" >
                      <label for="new__inputContractValidityPeriod" class="col-sm-4 col-form-label"> 
                        招商期 <div class="help-text"> 设置商单的有效时间，超过有效时间，还未有服务商接单的商单将自动失效，失效的商单不可招商(单位：天，必填)</div>
                      </label>
                      <div class="col-sm-8">
                        <input id="new__inputContractValidityPeriod" 
                        class="form-control" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="newTemplate.contractValidityPeriod" type="number">
                      </div>
                    </div>

                    <div class="row pb-3 mt-3" >
                      <label for="new__inputDifficulty" class="col-sm-4 col-form-label"> 
                        任务难度 <div class="help-text">必填。初级：任务或活动相对简单，容易理解和完成；中级：需要一定的经验或技能，但仍然在大多数人的能力范围内；高级：需要更深入的知识、更复杂的策略或更高的专注度；专家级：在特定领域拥有丰富经验和高度专业知识；大师级：最高难度级别，供应商需在某个领域的取得卓越成就和非凡的技能。</div>
                      </label>
                      <div class="col-sm-8">
                        <select  id="new__inputDifficulty" class="form-select"  v-model="newTemplate.difficulty">
                          <option value="easy">初级</option>
                          <option value="medium">中级</option>
                          <option value="advanced">高级</option>
                          <option value="expert">专家</option>
                          <option value="master">大师</option>
                        </select>
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label for="new__inputLocation" class="col-sm-4 col-form-label"> 
                        工作地点 <div class="help-text">实际工作地址或常驻办公地，必填</div>
                      </label>
                      <div class="col-sm-8">
                        <textarea id="new__inputLocation" v-model="newTemplate.location" class="form-control" maxlength="8" aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label for="new_inputExperience"  class="col-sm-4 col-form-label"> 
                        经验要求 <div class="help-text">工作经验或行业资历限制，值为空系统将处理为不限经验</div>
                      </label>
                      <div class="col-sm-8">
                        <div class="input-group">
                          <input id="new_inputExperience" class="form-control" @input="transformInputNumberV($event)" min="1" max="40" step="1"  v-model="newTemplate.experience" type="number">
                          <span class="input-group-text">年及以上从业经验</span>
                        </div>
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label for="new__inputBidElectricity" class="col-sm-4 col-form-label"> 
                        接单消耗电量 <div class="help-text">供应商接单需要消耗的电量值，必填</div>
                      </label>
                      <div class="col-sm-8">
                        <input id="new__inputBidElectricity"  class="form-control" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="newTemplate.bidElectricity" type="number">
                      </div>
                    </div>

                    <div class="row mb-3 mt-3">

                      <label  class="col-sm-4 col-form-label">
                        技能&资质
                        <div class="help-text">
                          按回车键Enter添加  
                        </div>
                      </label>
                      <div class="col-sm-8">
                        <div class="tags-wrapper">
                          <div class="tag-content">
                            <ul>
                              <li v-for="(tag, index) in newTemplate.skills" :key="index" >
                                {{ tag }}
                                <span>
                                  <i class="bi bi-x" @click="removeNewModalSkillV(index)"></i>
                                </span>
                              </li>
                              <input maxlength="40" class="form-control" @keyup="deleteContentOrTagFromNewModalSkillV"
                                  @keyup.enter.prevent="addSkillInNewModalV"
                                  type="text" spellcheck="false">
                            </ul>
                          </div>
                          <div class="tag-details">
                            <p class="help-text">还可添加<span>{{5 - newTemplate.skills.length}}</span>标签</p>
                          </div>
                        </div>
                      </div>

                    </div>


                  </form>
                  
                </div>
                <div class="modal-footer btn-light">
                  <button 
                  :class="{'disabled': !validateNewTemplateV() , 
                  'btn-primary': validateNewTemplateV()  ,
                  'btn-secondary': !validateNewTemplateV()  }" 
                     @click="newMpsTemplateV" type="button"  v-preventreclick class="btn modal-btn-ui">提交</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-container">
          <!-- editChainTemplateModal Modal -->
          <div class="modal fade" id="editChainTemplateModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
              <div class="modal-content text-color-dark">
                <div class="modal-header">
                  <h2 class="modal-title fs-5" >编辑商单模版</h2>
                  <button  type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex justify-content-center">
                  <form onsubmit="return false">
                    <div class="row mb-3 mt-3">
                      <label for="edit__inputTitle" class="col-sm-4 col-form-label"> 
                        名称 <div class="help-text"> 商单模版名称(最大80字符，必填) </div>
                      </label>
                      <div class="col-sm-8">
                        <textarea id="edit__inputTitle" @change="btn_ctl.activate_edit_template_save__btn=true" v-model="putTemplate.title" class="form-control" maxlength="80" aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="edit__inputSow" class="col-sm-4 col-form-label"> 
                        合约内容 <div class="help-text"> 设置合约内容，如工作范围,交付物,Tech Pack 等，必填 </div>
                      </label>
                      <div class="col-sm-8">
                        <textarea maxlength="2000" id="edit__inputSow" @change="btn_ctl.activate_edit_template_save__btn=true" v-model="putTemplate.sow" class="form-control" rows="13"  aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="edit__inputPiece" class="col-sm-4 col-form-label"> 
                        职能 <div class="help-text"> 合约定位如设计、管理、测试等，准确的职能设置可以更精确匹配您的服务商(最大80字符，必填)  </div>
                      </label>
                      <div class="col-sm-8">
                        <input id="edit__inputPiece" class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" v-model="putTemplate.piece" maxlength="80" type="text">
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="edit__inputBonus" class="col-sm-4 col-form-label"> 
                        奖金 <div class="help-text"> 完成合约时支付给服务商的货币奖励(单位：元，必填) </div>
                      </label>
                      <div class="col-sm-8">
                        <input id="edit__inputBonus" class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" v-model="putTemplate.bonus" @input="transformInputNumberV($event)" min="1" max="5000000" step="1"  type="text">
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="edit__inputFirstSupplier" class="col-sm-4 col-form-label"> 
                        1级服务商 <div class="help-text"> 指定特定服务商，商单会直接提交给该服务商 </div>
                      </label>
                      <div class="col-sm-8">
                        <div>
                          <input id="put_iput_supplier" class="iput" placeholder="输入关键词,键入回车搜索" @click="showOptionV()" @keyup.enter.native="searchV($event)">
                        </div>
                        <div class="op-list hidden">
                            <div class="iop">--请选择--</div>
                            <div v-for="opt in supplier.records" class="iop" :id="opt.id">{{opt.brandName}}</div>
                        </div>
                        <!-- <input v-model="newTemplate.firstSupplier" type="text"> -->
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="edit__inputDuration" class="col-sm-4 col-form-label"> 
                        机遇期 <div class="help-text"> 指定1级服务商接单周期，超出该时间间隔1级服务商未接单，商单进入商单市场(单位：天)</div>
                      </label>
                      <div class="col-sm-8">
                        <input id="edit__inputDuration" class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="putTemplate.duration" type="number" v-bind:disabled="!putTemplate.firstSupplier">
                      </div>
                    </div>

                    <div class="row mb-3 mt-3" >
                      <label for="edit__inputDeliveryCycle" class="col-sm-4 col-form-label"> 
                        交付周期 <div class="help-text"> 告知服务商理想条件下，应在指定的时间内给出最终交付(单位：天，必填)</div>
                      </label>
                      <div class="col-sm-8">
                        <input id="edit__inputDeliveryCycle"
                        class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="putTemplate.deliveryCycle" type="number">
                      </div>
                    </div>

                    <div class="row pb-3 mt-3" >
                      <label for="edit__inputContractValidityPeriod" class="col-sm-4 col-form-label"> 
                        招商期 <div class="help-text"> 设置商单的有效时间，超过有效时间，还未有服务商接单的商单将自动失效，失效的商单不可招商(单位：天，必填)</div>
                      </label>
                      <div class="col-sm-8">
                        <input  id="edit__inputContractValidityPeriod"
                        class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="putTemplate.contractValidityPeriod" type="number">
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label class="col-sm-4 col-form-label"> 
                        任务难度 <div class="help-text">必填。初级：任务或活动相对简单，容易理解和完成；中级：需要一定的经验或技能，但仍然在大多数人的能力范围内；高级：需要更深入的知识、更复杂的策略或更高的专注度；专家级：在特定领域拥有丰富经验和高度专业知识；大师级：最高难度级别，供应商需在某个领域的取得卓越成就和非凡的技能。</div>
                      </label>
                      <div class="col-sm-8">
                        <select class="form-select"  @change="btn_ctl.activate_edit_template_save__btn=true" v-model="putTemplate.difficulty">
                          <option value="easy">初级</option>
                          <option value="medium">中级</option>
                          <option value="advanced">高级</option>
                          <option value="expert">专家</option>
                          <option value="master">大师</option>
                        </select>
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label class="col-sm-4 col-form-label"> 
                        工作地点 <div class="help-text">实际工作地址或常驻办公地，必填</div>
                      </label>
                      <div class="col-sm-8">
                        <textarea v-model="putTemplate.location" @change="btn_ctl.activate_edit_template_save__btn=true" class="form-control" maxlength="8" aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label  class="col-sm-4 col-form-label"> 
                        经验要求 <div class="help-text">工作经验或行业资历限制，值为空系统将处理为不限经验</div>
                      </label>
                      <div class="col-sm-8">
                        <div class="input-group">
                          <input  class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" @input="transformInputNumberV($event)" min="1" max="40" step="1"  v-model="putTemplate.experience" type="number">
                          <span class="input-group-text">年及以上从业经验</span>
                        </div>
                      </div>
                    </div>
                    <div class="row pb-3 mt-3" >
                      <label  class="col-sm-4 col-form-label"> 
                        接单消耗电量 <div class="help-text">供应商接单需要消耗的电量值，必填</div>
                      </label>
                      <div class="col-sm-8">
                        <input  
                        class="form-control" @change="btn_ctl.activate_edit_template_save__btn=true" @input="transformInputNumberV($event)" min="1" max="50000" step="1"  v-model="putTemplate.bidElectricity" type="number">
                      </div>
                    </div>

                    <div class="row mb-3 mt-3">

                      <label  class="col-sm-4 col-form-label">
                        技能&资质
                        <div class="help-text">
                          按回车键Enter添加  
                        </div>
                      </label>
                      <div class="col-sm-8">
                        <div class="tags-wrapper">
                          <div class="tag-content">
                            <ul>
                              <li v-for="(tag, index) in putTemplate.skills" :key="index" >
                                {{ tag }}
                                <span>
                                  <i class="bi bi-x" @click="removeEditModalSkillV(index)"></i>
                                </span>
                              </li>
                              <input maxlength="40" class="form-control" @keyup="deleteContentOrTagFromEditModalSkillV"
                                  @keyup.enter.prevent="addSkillInEditModalV"
                                  type="text" spellcheck="false">
                            </ul>
                          </div>
                          <div class="tag-details">
                            <p class="help-text">还可添加<span>{{5 - putTemplate.skills.length}}</span>标签</p>
                          </div>
                        </div>
                      </div>

                    </div>


                  </form>
                  
                </div>
                <div class="modal-footer btn-light">
                  <button 
                  :class="{'disabled': !validatePutTemplateV() , 
                  'btn-primary': validatePutTemplateV()  ,
                  'btn-secondary': !validatePutTemplateV()  }" 
                   v-preventreclick @click="putMpsTemplateV" type="button"   class="btn modal-btn-ui">提交</button>
                </div>
              </div>
            </div>
          </div>
        </div>

      </section>
    </content>
  </pt-app>
  <section class="feedback_offcanvas" id="section_feedback_offcanvas">

    <div class="offcanvas offcanvas-end" tabindex="-1" id="feedback_offcanvas_right" aria-labelledby="feedbackOffcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="feedbackOffcanvasRightLabel">发送反馈到小蔚</h5>
        <button id="closeFeedbackOffcanvas" type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <form id="feedback-form">
          <div class="mt-3">
            <label for="input_issue" class="form-label">您遇到的具体问题是什么(必填,300字以内)</label>
            <textarea  rows="8" type="text" maxlength="300" class="form-control"  id="input_issue"></textarea>
          </div> 
          <div class="mt-3">
            <label class="form-label">附件图片(选填)</label>
            <div class="feedback-attachment-upload-container dropzone-wrapper">
              <img  id="lastestFeedbackAttachment" >
              <div class="dropzone-desc">
                <i class="bi bi-cloud-plus"></i>
              </div>
              <input type="file" id="input_issue_attachment"  accept="image/jpg, image/png, image/jpeg" class="dropzone">
            </div>
          </div>  
          <div class="mt-3">
            <label for="input_issue_contact" class="form-label">您的联系方式(选填)</label>
            <input id="input_issue_contact"  min="1" max="50000" step="1" type="text" class="form-control" placeholder="请留下邮箱或电话，使我们快速反馈">
          </div> 
          <button type="submit" class="btn btn-primary mt-5 w-100">提交</button>
        </form>
      </div>
    </div>

  </section>

  <script type="module" src="/common/javascripts/feedback.js"></script>
  <script type="module" src="/common/javascripts/tm.js"></script>
  <script type="module" src="/estudio/javascripts/studio-chain-setting.js"></script>



</body>
</html>