<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex,nofollow">
  <meta http-equiv='content-language' content='zh-cn'>

  <link rel="icon" href="https://www.bluvarri.com/favicon.png">
  <title>订阅专区 - E-Studio</title>
  <script src="/common/javascripts/avif-webp.min.js"></script>


  <link rel="stylesheet" href="/estudio/stylesheets/studio.scss">
  <link rel="stylesheet" href="/estudio/stylesheets/studio-user-subscribe.scss">

</head>

<body>
  <pt-app id="app" v-cloak>
    <!-- header nav -->
    <header class="text-white">
      <div class="d-flex justify-content-between align-items-center hdlayout">

        <div class="d-flex">
          <a href="/">
            <div class="d-flex align-items-center logo">
              <img src="/common/icon/logo_blv-final-white.png" alt="logo">
            </div>
          </a>

        </div>

        <div>

          <div class="btn-group" style="margin-right: 8px;">

            <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false">
              <div class="tooltip-nav" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip"
                data-bs-trigger="hover" data-bs-placement="bottom" data-bs-title="访达">
                <i class="bi bi-grid"></i>
              </div>
            </button>
            <ul class="dropdown-menu dropdown-menu-end dropdown-dark">
              <li>
                <a href="/">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-house me-2"></i> 主站首页
                  </button>
                </a>
              </li>
              <li>
                <a href="/rainbow/teixcalaanli">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-rainbow me-2"></i> 彩虹部落
                  </button>
                </a>
              </li>
              <li>
                <a href="/mall/gig-economy">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-bag-heart me-2"></i> 心选商店
                  </button>
                </a>
              </li>
              <li>
                <a href="/affiliate/dashboard">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-megaphone me-2"></i> 带货中心
                  </button>
                </a>
              </li>

              <li>
                <a href="/epod/pod-packages-order">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-tags me-2"></i> 奇迹工坊
                  </button>
                </a>
              </li>
              <li>
                <a href="/estudio/studio-dashboard">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-flower1 me-2"></i> 薪动商号
                  </button>
                </a>
              </li>
            </ul>

          </div>



          <a v-if="!user_already_login" class="btn btn-outline-dark button_login" href="/login">
            登录
          </a>
          <a v-if="!user_already_login" href="/signup"
            class="btn btn-primary join-now button_register text-white">注册</a>

          <div v-if="user_already_login" class="btn-group">
            <button type="button" class="btn btn-secondary dropdown-toggle button_user_vue brand-avatar"
              data-bs-toggle="dropdown" aria-expanded="false">
              <img :src="adaptiveImageUriV(getIdentity().avatar)  || defaultAvatarImage"
                @error.once="e => { e.target.src = defaultAvatarImage }">
            </button>
            <ul class="dropdown-menu dropdown-menu-end dropdown-dark">
              <li>
                <a href="/estudio/studio-setting-profile">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-person-vcard me-2"></i> 品牌形象
                  </button>
                </a>
              </li>
              <li>
                <button @click="logout()" class="dropdown-item" type="button">
                  <i class="bi bi-box-arrow-right me-2"></i> 退出登录
                </button>
              </li>
              <li>
                <a href="/mall/delete-account">
                  <button class="dropdown-item" type="button">
                    <i class="bi bi-trash3 me-2"></i> 删除账号
                  </button>
                </a>
              </li>

              <li>
                <button class="dropdown-item" type="button" data-bs-toggle="offcanvas"
                  data-bs-target="#feedback_offcanvas_right" aria-controls="feedback_offcanvas_right">
                  <i class="bi bi-flag me-2"></i> 问题反馈
                </button>
              </li>
            </ul>
          </div>


        </div>


      </div>
    </header>
    <content>

      <main>
        <div class="content-box">


          <div class="back-link" onclick="history.back()">
            <span>
              <span>
                <i class="bi bi-arrow-left"></i>
              </span>
              <span>返回</span>
            </span>
          </div>

          <div class="product-hero">
            <div class="hero-main">
              <h1 class="hero-title"><i class="bi bi-tag-fill"></i>{{productName}}</h1>
            </div>
            <div class="hero-actions">
              <a :href="'/'+sellerHandle" class="action-btn" title="访问店铺">
                <i class="bi bi-bag"></i>
              </a>
              <a :href="'/messages/'+ sellerUserId" class="action-btn" title="联系商家">
                <i class="bi bi-chat-dots"></i>
              </a>
              <a v-if="!!sellerPdOasisId" :href="'/rainbow/oasis/home?oasis_id='+sellerPdOasisId" class="action-btn" title="社区">
                <i class="bi bi-people"></i>
              </a>
              <button v-preventreclick @click="copyValueToClipboardV" class="action-btn" title="分享">
                <i class="bi bi-share"></i>
              </button>
              <button v-preventreclick @click="showOasisReportModalV" class="action-btn" title="举报">
                <i class="bi bi-flag"></i>
              </button>
            </div>
          </div>
          <section class="section-general-block section-box box-bg-primary mb-5">
            <div class="info-block">

              <div class="cycle-selector">
                <label class="cycle-option" :class="{'active': billCalendar==='monthly'}">
                  <input type="radio" value="monthly" v-model="billCalendar" @change="changeBillCalendarV" name="options-base">
                  <span>月付</span>
                </label>
                <label class="cycle-option" :class="{'active': billCalendar==='quarterly'}">
                  <input type="radio" value="quarterly" v-model="billCalendar" @change="changeBillCalendarV" name="options-base">
                  <span v-if="!hasOfferTypeV('pay_quarterly_discount_coupon_sp')">季付</span>
                  <span v-else>季付<em>省{{queryQuarterlyOrYearlyDiscountPercentageV('pay_quarterly_discount_coupon_sp')}}</em></span>
                </label>
                <label class="cycle-option" :class="{'active': billCalendar==='yearly'}">
                  <input type="radio" value="yearly" v-model="billCalendar" @change="changeBillCalendarV" name="options-base">
                  <span v-if="!hasOfferTypeV('pay_yearly_discount_coupon_sp')">年付</span>
                  <span v-else>年付<em>省{{queryQuarterlyOrYearlyDiscountPercentageV('pay_yearly_discount_coupon_sp')}}</em></span>
                </label>
              </div>
              <div class="row g-2 g-md-3  row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3">
                <div v-for="tier in plans" class="col">

                  <div :class="{'selected': currentPlan.id==tier.id}" v-preventreclick
                    @click="changeToCurrentPlanV(tier.id)" class="plan-box">

                    <img src="/common/images/bg.svg" class="plan-box-bg">

                    <div class="plan-box-header d-flex justify-content-between pb-2">
                      <div class="product-info">
                        <div class="brand-avatar">
                          <img :src="adaptiveImageUriV(tier.sellerAvatar)  || defaultAvatarImage">
                        </div>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="radioPlanGroup" :value="tier.id"
                          v-model="currentPlan.id">
                      </div>
                    </div>
                    <div class="plan-box__name">{{tier.planName}}</div>
                    <div class="plan-box__description">{{tier.planDesc}}</div>
                    <div class="plan-price-box"><span class="plan-price">¥{{tier.price}}</span>/月</div>
                    <div class="features">
                      <div class="features__title">商品权益：</div>
                      <div v-for="item in tier.features" class="features_item">
                        <div>
                          <span>
                            <i class="bi bi-check me-1" style="color: #3fb950;"></i>
                          </span>
                        </div>
                        <div data-bs-custom-class="custom-popover" data-bs-placement="right" data-bs-trigger="hover"
                          data-bs-toggle="popover" :data-bs-content="item.description">
                          <span>
                            {{item.title}}
                          </span>
                        </div>

                      </div>
                    </div>
                  </div>

                </div>

              </div>
            </div>
            <div v-if="plans.length==0" class="not-found-resource" style="margin-top: 1rem;">
              <img src="https://d13-content.oss-cn-hangzhou.aliyuncs.com/common/image/not-found-result.png"
                alt="bluvarri-service-not-found">
            </div>
          </section>
          <section class="fee-section">
            <div class="fee-card">
              <h3 class="fee-title">首期费用</h3>
              <div class="promo-input">
                <input @keyup.enter.native="queryPromoCodeInfoV" v-model="promoCode" type="text" placeholder="输入促销码...">
                <button v-preventreclick @click="queryPromoCodeInfoV"><i class="bi bi-arrow-right"></i></button>
              </div>
              <p v-if="!!promoError" class="promo-error">{{promoError}}</p>

              <div class="fee-list">
                <div v-if="!isEmptyObjectV(currentPlan)" class="fee-row">
                  <span>服务费用</span>
                  <span>￥{{calRegularFeeV().toFixed(2)}}</span>
                </div>
                <div v-if="!!currentPlan.offers && billCalendar=='quarterly' && hasOfferTypeV('pay_quarterly_discount_coupon_sp')" class="fee-row discount">
                  <span>季付折扣 ({{queryQuarterlyOrYearlyDiscountPercentageV('pay_quarterly_discount_coupon_sp')}})</span>
                  <span>-￥{{calMonthlyOrYearlyDiscountsV('pay_quarterly_discount_coupon_sp')}}</span>
                </div>
                <div v-if="!!currentPlan.offers && billCalendar=='yearly' && hasOfferTypeV('pay_yearly_discount_coupon_sp')" class="fee-row discount">
                  <span>年付折扣 ({{queryQuarterlyOrYearlyDiscountPercentageV('pay_yearly_discount_coupon_sp')}})</span>
                  <span>-￥{{calMonthlyOrYearlyDiscountsV('pay_yearly_discount_coupon_sp')}}</span>
                </div>
                <div v-if="!!promoOffer" class="fee-row discount">
                  <span>促销码 - {{promoOffer.name}}</span>
                  <span>-￥{{calPromoCodeDiscountsV().toFixed(2)}}</span>
                </div>
              </div>

              <div v-if="isEmptyObjectV(currentPlan)" class="fee-empty">
                <i class="bi bi-inbox"></i>
                <span>请先选择套餐</span>
              </div>

              <div class="fee-footer">
                <div class="fee-total">
                  <span>应付</span>
                  <span class="total-price">￥{{planFeePredict.length>0 ? planFeePredict[0].netIncome.toFixed(2) : "0"}}</span>
                </div>
                <button v-preventreclick @click="showSubscribePlanModalV" class="subscribe-btn">即刻订阅</button>
              </div>
            </div>
          </section>
          <section class="predict-section">
            <div class="predict-card">
              <h3 class="predict-title">费用预测</h3>
              <div class="predict-table">
                <div class="predict-header">
                  <span>缴费周期</span>
                  <span>优惠减免</span>
                  <span>应付</span>
                  <span>实付</span>
                </div>
                <div v-for="feeItem in planFeePredict" class="predict-row">
                  <span>{{feeItem.period}}</span>
                  <span class="discount">{{Number(feeItem.couponMoney).toFixed(2)}}</span>
                  <span>{{feeItem.amount.toFixed(2)}}</span>
                  <span class="final">{{feeItem.netIncome.toFixed(2)}}</span>
                </div>
              </div>
              <div v-if="isEmptyObjectV(currentPlan)" class="predict-empty">
                <i class="bi bi-calendar3"></i>
                <span>选择套餐后查看费用预测</span>
              </div>
            </div>
          </section>

          <section class="notice-section">
            <div class="notice-card">
              <h3 class="notice-title"><i class="bi bi-info-circle"></i> 订阅须知</h3>
              <ul class="notice-list">
                <li><strong>下架处理</strong>：套餐下架后，已订阅的套餐在下一个计费周期将不再提供订阅服务。</li>
                <li><strong>涨价说明</strong>：套餐价格涨幅超过6%，已订阅的套餐在下一个计费周期将停止订阅服务；6%以及6%以下的涨幅，已订阅的套餐将按新的价格扣除订阅费用。</li>
                <li><strong>续费</strong>：班蔚会在到期后24小时内扣费，订阅成功后订阅周期顺延一个订阅周期。</li>
                <li><strong>取消续订</strong>：如需取消续订，用户可在当前订阅周期到期前24小时以前，随时手动在【奇迹工坊】-【付费订阅】中取消订阅。</li>
                <li><strong>退款</strong>：扣费7日内，用户可随时联系商家或通过奇迹工坊订阅记录举报入口进行退款；超出7日的扣费账单，不再支持退款。</li>
                <li><strong>关于举报</strong>：用户在订阅过程中如发现违规行为，可随时通过奇迹工坊订阅记录或套餐订阅页面的举报入口检举违规、违法商家。</li>
              </ul>
            </div>
          </section>


        </div>

        <div class="empty-box"></div>


      </main>
      <section class="modals">

        <div class="modal-container">
          <!--TopUp Fund Modal -->
          <div class="modal fade" id="goTopUpModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <div class="success-icon"><i class="bi bi-check-circle-fill"></i></div>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <h4 class="success-title">订阅成功!</h4>
                  <p class="success-desc">哇，成功下单，Respect！</p>
                </div>
                <div class="modal-footer">
                  <a href="/estudio/studio-shop" target="_blank" class="btn btn-secondary-action">前往商城充值</a>
                  <a href="/epod/pod-subscription" class="btn btn-primary-action">查看订阅</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-container">

          <!-- Modal -->
          <div class="modal fade" id="reportOasisModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
              <div class="modal-content text-color-dark">
                <div class="modal-header">
                  <h1 class="modal-title fs-5">举报商品</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex justify-content-center">
                  <form class="w-100">
                    <div class="pt-3">
                      <ul class="list-group">
                        <li v-for="report in reportOptions" class="list-group-item">
                          <div class="form-check">
                            <input class="form-check-input" v-bind:value="report.itemCode"
                              v-model="reportForm.fraudType" type="radio" name="reportList">
                            <label class="form-check-label" for="reportList">
                              {{report.item}}
                            </label>
                          </div>
                        </li>
                      </ul>
                    </div>

                    <div class="py-3">
                      <div class="label-color field-label">详细描述（必填）</div>
                      <div class="inputWrapper">
                        <div class="inputMaxLength">
                          <textarea v-model="reportForm.caseDesc" type="text" placeholder="填写具体违规内容和详细描述，更容易举报成功喔~"
                            maxlength="200" rows="3" autocorrect="off" class="inputDefault textAreaDefault"
                            style="padding-right: 38.92px; height: 150px;"></textarea>
                          <div class="maxLength">{{ (!reportForm || !reportForm.caseDesc) ? 200 :
                            200-reportForm.caseDesc.length}}</div>
                        </div>
                      </div>
                      <div class="label-color field-label">图片材料提交，支持jpg、png等格式（选填）</div>

                      <input style="font-size: 12px;" id="caseMaterialFile" class="form-control  only-show-bottom mb-3"
                        type="file" placeholder="选择举报材料">

                    </div>

                  </form>

                </div>
                <div class="modal-footer btn-light">
                  <button :class="{'disabled': !validateReportFormV(), 
                    'btn-primary': validateReportFormV() ,
                    'btn-secondary': !validateReportFormV()  }" v-preventreclick @click="newReportCaseV" type="button"
                    class="btn">提交</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- focus modal -->
        <div class="modal-container">
          <div class="modal fade" id="focusModal" data-bs-backdrop="static" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">操作提示</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <p class="focus-message">{{focusModal.message}}</p>
                </div>
                <div class="modal-footer">
                  <button type="button" @click="closeSubscribePlanFocusModalV" class="btn btn-cancel" data-bs-dismiss="modal">取消</button>
                  <button v-preventreclick @click="focusModal.confirmHandler" type="button" class="btn btn-confirm">继续</button>
                </div>
              </div>
            </div>
          </div>
        </div>



      </section>

    </content>
  </pt-app>
  <section class="feedback_offcanvas" id="section_feedback_offcanvas">

    <div class="offcanvas offcanvas-end" tabindex="-1" id="feedback_offcanvas_right"
      aria-labelledby="feedbackOffcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="feedbackOffcanvasRightLabel">发送反馈到小蔚</h5>
        <button id="closeFeedbackOffcanvas" type="button" class="btn-close" data-bs-dismiss="offcanvas"
          aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <form id="feedback-form">
          <div class="mt-3">
            <label for="input_issue" class="form-label">您遇到的具体问题是什么(必填,300字以内)</label>
            <textarea rows="8" type="text" maxlength="300" class="form-control" id="input_issue"></textarea>
          </div>
          <div class="mt-3">
            <label class="form-label">附件图片(选填)</label>
            <div class="feedback-attachment-upload-container dropzone-wrapper">
              <img id="lastestFeedbackAttachment">
              <div class="dropzone-desc">
                <i class="bi bi-cloud-plus"></i>
              </div>
              <input type="file" id="input_issue_attachment" accept="image/jpg, image/png, image/jpeg" class="dropzone">
            </div>
          </div>
          <div class="mt-3">
            <label for="input_issue_contact" class="form-label">您的联系方式(选填)</label>
            <input id="input_issue_contact" min="1" max="50000" step="1" type="text" class="form-control"
              placeholder="请留下邮箱或电话，使我们快速反馈">
          </div>
          <button type="submit" class="btn btn-primary mt-5 w-100">提交</button>
        </form>
      </div>
    </div>

  </section>
  <script type="module" src="/common/javascripts/feedback.js"></script>
  <script type="module" src="/common/javascripts/tm.js"></script>
  <script type="module" src="/estudio/javascripts/studio-user-subscribe.js"></script>

</body>

</html>