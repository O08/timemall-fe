<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <meta http-equiv ='content-language' content ='zh-cn'>

    <link rel="icon" href="https://www.bluvarri.com/favicon.png">
    <title>商单助手 - E-Studio</title>
    <script src="/common/javascripts/avif-webp.min.js"></script>


    <link rel="stylesheet" href="/estudio/stylesheets/studio.scss">
    <link rel="stylesheet" href="/estudio/stylesheets/studio-mps.scss">



</head>
<body>
  <pt-app id="app" v-cloak>
      <!-- header nav -->
      <header class="text-white">
        <div class="d-flex justify-content-between align-items-center hdlayout">
  
          <div class="d-flex">
            <div class="toggle-nav">
              <button class="navbar-toggler p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdSidebar" aria-controls="bdSidebar" aria-label="Toggle docs navigation">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="bi" fill="currentColor" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
                </svg>
              </button>
            </div>
            <a href="/estudio/studio-dashboard">
              <div class="d-flex align-items-center logo">
                <img src="/common/icon/logo_blv-final-white.png" alt="logo">
                <h2 class="mb-0 ms-2">E-Studio</h2>
              </div>
            </a>
  
          </div>
          
          <div>
            
            <div class="btn-group" style="margin-right: 8px;" >
            
              <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false" >
                <div class="tooltip-nav" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-trigger="hover" data-bs-placement="bottom" data-bs-title="访达">
                  <i class="bi bi-grid"></i>                  
                </div>
              </button>
              <ul class="dropdown-menu dropdown-menu-end dropdown-dark">
                <li>
                  <a href="/">
                    <button class="dropdown-item" type="button">
                      <img class="forward-icon me-2" src="/common/icon/logo_blv-final-black.png" alt="blv-logo"> 主站首页
                     </button>
                  </a>
                </li>
                <li>
                  <a href="/rainbow/teixcalaanli">
                    <button class="dropdown-item" type="button">
                      <i class="bi bi-rainbow me-2"></i> 彩虹部落
                     </button>
                  </a>
                </li>
                <li>
                  <a href="/mall/gig-economy">
                    <button class="dropdown-item" type="button">
                      <i class="bi bi-bag-heart me-2"></i> 心选商店
                     </button>
                  </a>
                </li>
                <li>
                  <a href="/affiliate/dashboard">
                    <button class="dropdown-item" type="button" >
                      <i class="bi bi-megaphone me-2"></i> 带货中心
                     </button>
                  </a>
                </li>
                
                <li>
                  <a href="/epod/pod-packages-order">
                    <button class="dropdown-item" type="button" >
                      <i class="bi bi-tags me-2"></i> 奇迹工坊
                     </button>
                  </a>
                </li>
                <li v-if="!!getIdentity().hiLinkUrl">
                  <a :href="getIdentity().hiLinkUrl">
                    <button class="dropdown-item" type="button" >
                      <i class="bi bi-pin-map me-2"></i> {{getIdentity().hiLinkName}}
                     </button>
                  </a>
                </li>
              </ul>
  
            </div>
  
           
  
            <div class="btn-group private-msg-atom" style="margin-right: 8px;">
              <button type="button" class="btn entry-nav" data-bs-toggle="dropdown" aria-expanded="false">
                <div class="tooltip-nav" data-bs-custom-class="custom-tooltip" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-trigger="hover" data-bs-title="消息">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.80403 8.3533C2.52389 10.9562 2.53637 13.9582 2.9262 16.5505C3.1419 17.9849 4.31257 19.0845 5.75763 19.2102L7.26787 19.3414C10.4169 19.6152 13.5838 19.6152 16.7328 19.3414L18.2431 19.2102C19.6881 19.0845 20.8588 17.9849 21.0745 16.5505C21.4643 13.9582 21.4768 10.9564 21.1967 8.35345C21.1605 8.05169 21.1197 7.75034 21.0745 7.44949C20.8588 6.0151 19.6881 4.91545 18.2431 4.78983L16.7328 4.65855C13.5838 4.38481 10.4169 4.38481 7.26787 4.65855L5.75763 4.78983C4.31257 4.91545 3.1419 6.0151 2.9262 7.44949C2.88096 7.75028 2.84024 8.05159 2.80403 8.3533ZM7.39777 6.15292C10.4604 5.88669 13.5403 5.88669 16.6029 6.15292L18.1131 6.2842C18.8675 6.34977 19.4786 6.92379 19.5912 7.67254C19.6029 7.7503 19.6142 7.82809 19.6253 7.90592L14.0643 10.9954C12.7807 11.7085 11.2199 11.7085 9.93632 10.9954L4.37539 7.90596C4.38645 7.82812 4.39783 7.75031 4.40952 7.67254C4.52211 6.92379 5.13321 6.34977 5.88754 6.2842L7.39777 6.15292ZM19.8088 9.51989C20.0028 11.7876 19.9303 14.0725 19.5912 16.3274C19.4786 17.0762 18.8675 17.6502 18.1132 17.7158L16.6029 17.8471C13.5403 18.1133 10.4604 18.1133 7.39777 17.8471L5.88754 17.7158C5.13321 17.6502 4.52211 17.0762 4.40952 16.3274C4.07043 14.0725 3.99787 11.7877 4.19184 9.51992L9.20786 12.3066C10.9445 13.2714 13.0561 13.2714 14.7928 12.3066L19.8088 9.51989Z" fill="white"/>
                    </svg>  
                </div>
              </button>
              <ul class="dropdown-menu dropdown-menu-end">
                <div class="friend-header">
                  私信（{{friends.totalUnRead}}）
                </div>
                <div class="friend-list">
  
                  <li class="friend-item"   v-for="friend in friends.records">
                    <a target="_blank" :href="'/messages/'+ friend.id">
                      <div class="friend-container">
                        <div class="frend-avatar-container">
                          <img class="frend-avatar" :src="adaptiveImageUriV(friend.avatar) || defaultAvatarImage" @error.once="e => { e.target.src = defaultAvatarImage }">
                          <div v-if="friend.brandMark=='3'" class="online-indicator">
                            <div class="online-indicator-content">
                            </div>
                          </div>
                        </div>
                        <div class="friend-info">
                          <div class="friend-name"><span class="ellipsis-1">{{friend.title}}</span> </div>
                          <div class="friend-msg"> <span class="ellipsis-1">{{friend.latestContent}}</span> </div>
                          <div class="msg-time">{{getPublishTimeV(friend.modifiedAt)}}</div>
                        </div>
                      </div>
                    </a>
                  </li>
  
                 
  
                </div>
                
  
  
              </ul>
            </div>
  
            <div class="btn-group">
              <button type="button" class="btn btn-secondary dropdown-toggle button_user_vue brand-avatar" data-bs-toggle="dropdown" aria-expanded="false">
                <img  :src="adaptiveImageUriV(getIdentity().avatar)  || defaultAvatarImage" @error.once="e => { e.target.src = defaultAvatarImage }">
              </button>
              <ul class="dropdown-menu dropdown-menu-end dropdown-dark">
                <li>
                  <a href="/estudio/studio-setting-profile">
                    <button class="dropdown-item" type="button">
                      <i class="bi bi-person-vcard me-2"></i> 品牌形象
                     </button>
                  </a>
                </li>
                <li>
                    <button @click="logout()" class="dropdown-item" type="button">   
                      <i class="bi bi-box-arrow-right me-2"></i> 退出登录 
                    </button>
                </li>
                <li>
                  <a href="/mall/delete-account">
                    <button class="dropdown-item" type="button">
                      <i class="bi bi-trash3 me-2"></i> 删除账号
                     </button>
                  </a>
                </li>
                
                <li>
                  <button class="dropdown-item" type="button" data-bs-toggle="offcanvas" data-bs-target="#feedback_offcanvas_right" aria-controls="feedback_offcanvas_right">
                    <i class="bi bi-flag me-2"></i> 问题反馈
                  </button>
                </li>
              </ul>
            </div>
    
            
          </div>
  
  
        </div>
      </header>
      <content class="bd-layout">
        <aside>
          <div class="offcanvas-xxl offcanvas-start" tabindex="-1" id="bdSidebar" aria-labelledby="bdSidebarOffcanvasLabel">
            <div class="offcanvas-header">
              <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#bdSidebar" aria-label="Close"></button>
            </div> 
            <!-- menu -->
            <div class="sidebar-wrapper">
              <nav class="sidebar nav">
                <a class="nav-link" href="/estudio/studio-dashboard">
                  <div class="nav-icon">
                    <i class="bi bi-rocket-takeoff"></i>
                  </div>
                  <span>运营数据</span>
                </a>
                <a class="nav-link" href="/estudio/studio-gig-store">
                  <div class="nav-icon">
                    <i class="bi bi-shop-window"></i>
                  </div>
                  <span>技能店铺</span>
                </a>
                <a class="nav-link" href="/estudio/studio-virtual-store">
                  <div class="nav-icon">
                    <i class="bi bi-badge-vr"></i>
                  </div>
                  <span>虚拟店铺</span>  
                </a>
                <a class="nav-link" href="/estudio/studio-packages-order">
                  <div class="nav-icon">
                    <i class="bi bi-truck"></i>
                  </div>
                  <span>履约中心</span>        
                </a>
                <a class="nav-link" href="/estudio/studio-bill">
                  <div class="nav-icon">
                    <i class="bi bi-receipt"></i>
                  </div>
                  <span>账单管理</span>
                </a>
                <a class="nav-link" href="/estudio/studio-proposals">
                  <div class="nav-icon">
                    <i class="bi bi-file-medical"></i>
                  </div>
                  <span>智能提案</span>
                </a>
                <a class="nav-link active">
                  <div class="nav-icon">
                    <i class="bi bi-columns"></i>
                  </div>
                  <span>商单助手</span>
                </a>
                <a class="nav-link" href="/estudio/studio-subscription">
                  <div class="nav-icon">
                    <i class="bi bi-magic"></i>
                  </div>
                  <span>付费订阅</span>
                </a>
                <a class="nav-link" href="/estudio/studio-promotion">
                  <div class="nav-icon">
                    <i class="bi bi-gift"></i>
                  </div>
                  <span>营销活动</span>
                </a>
                <a class="nav-link" href="/estudio/studio-msg">
                  <div class="nav-icon">
                    <i class="bi bi-bell"></i>
                  </div>
                  <span>消息通知<sup v-if="includeUnprocessedFeed" class="disabled dot-info"></sup></span>
                </a>
                <a class="nav-link" href="/estudio/studio-dsp">
                  <div class="nav-icon">
                    <i class="bi bi-shield-plus"></i>
                  </div>
                  <span>争端解决</span>
                </a>
                <a class="nav-link" href="/estudio/studio-shop">
                  <div class="nav-icon">
                    <i class="bi bi-bag"></i>
                  </div>
                  <span>补给商城</span>
                </a>
              </nav>
            </div>
          </div>
        </aside>
        <main>
          <div class="main-content-container full">

              <!-- 容器元素 -->
        <div class="page-title-container">
          <!-- 文章:粘性约束元素 -->
          <div class="page-title">
            <h1>商单助手</h1>
          </div>
          <!-- tablist -->
          <div class="paper-tab">
            <ul class="nav nav-tabs border-0 store-tab" id="store-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="mps_list-tab" data-bs-toggle="tab" data-bs-target="#mps_list-tab-pane" type="button" role="tab" aria-controls="mps_list-tab-pane" aria-selected="true"><div class="head-nav-icon"> <i class="bi bi-list-task"></i> </div> <span class="ms-2">商单跟踪</span> </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="mps_chain-tab" data-bs-toggle="tab" data-bs-target="#mps_chain-tab-pane" type="button" role="tab" aria-controls="mps_chain-tab-pane" aria-selected="true"><div class="head-nav-icon"> <i class="bi bi-upc"></i></div> <span class="ms-2">商单模版</span></button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="mps_fund-tab" data-bs-toggle="tab" data-bs-target="#mps_fund-tab-pane" type="button" role="tab" aria-controls="mps_fund-tab-pane" aria-selected="true"><div class="head-nav-icon"><i class="bi bi-piggy-bank"></i></div> <span class="ms-2">商单基金</span></button>
                </li>
              </ul>
          </div>
          
          <!--  tablist content-->
          <div class="tab-content" id="mps_list-tab-content">
            <!--  mps list tab-->
            <div class="tab-pane fade show active" id="mps_list-tab-pane" role="tabpanel" aria-labelledby="mps_list-tab" tabindex="0">
              <div class="d-flex justify-content-between mps-list-header my-3">
                <div class="d-flex">

                  <div class="mps_list-search d-flex">
            
                    <div class="dropdown">
                      <button class="btn mps_list-filter-btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        过滤
                      </button>
                      <ul class="dropdown-menu">
                        <li><a class="dropdown-item d-flex" v-preventreclick @click="resetAndRetrieveMpsListV"><div  style="width: 24px; height: 24px; display: block;"><span v-if="!mps_list_pagination.param.filter">✔</span></div>全部</a>
                        </li>
                        <li><a class="dropdown-item d-flex" v-preventreclick @click="filterMpsListV('1')"><div  style="width: 24px; height: 24px; display: block;"><span v-if="mps_list_pagination.param.filter=='1'">✔</span></div>最近7天</a>
                        </li>
                        <li><a class="dropdown-item d-flex" v-preventreclick @click="filterMpsListV('2')"><div  style="width: 24px; height: 24px; display: block;"><span v-if="mps_list_pagination.param.filter=='2'">✔</span></div>最近1个月</a>
                        </li>
                      </ul>
                    </div>
                    <form class="nosubmit" onsubmit="return false">
                      <input  @keyup.enter.native="retrieveMpsTbV" v-model="mps_list_pagination.param.q" class="nosubmit mps_list-search-btn" type="search" placeholder="搜索...">
                    </form>

                  </div>
                  <select v-model="mps_list_pagination.param.tag" @change="retrieveMpsListByTagV" class="form-select ms-3 list-tb-filter-btn custom-select">
                    <option value="">全部标签</option>
                    <option value="1">新建</option>
                    <option value="2">运行中</option>
                    <option value="3">已下线</option>
                    <option value="4">已完成</option>
                  </select>

                </div>

                <div id="new-paper-trigger" class="dropdown">
                  <a class="btn  btn-outline-success btn-save bgPrimaryBlue me-5 dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-file-earmark-plus me-1"></i>派发商单
                  </a>
                
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item">            
                        <button @click="showMpsModalV" type="button" class="btn btn-dropdown-option" >
                          <i class="bi bi-collection me-1"></i> 模版商单
                       </button>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item">
                        <button @click="showNewFastPaperModalV"  type="button" class="btn btn-dropdown-option">
                          <i class="bi bi-lightning me-1"></i> 快捷商单
                       </button>
                      </a>
                    </li>
                  </ul>
                </div>
            
              </div>

              <div class="table-responsive">

                <div class="table-wrp">

                  <table class="table table-sm table-hover align-middle">
                    <thead>
                      <tr>
                        <th class="col-option"></th>
                        <th class="col-mps-title">项目名称</th>
                        <th class="col-type">
                          标签
                        </th>
                        <th class="col-type">类型</th>
                        <th class="col-addTime">入库日期</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr v-for="trans in mps_list_pagination.records">
                       <td class="col-option">
    
                        <span>
                          <button 
                              :class="{'option-disabled': trans.tag!='1'}"
                                :disabled="trans.tag!='1'"
                                v-preventreclick   @click="taggingMpsV(trans.chainId,trans.id,'2')" type="button" 
                                data-bs-custom-class="custom-popover" data-bs-placement="bottom" data-bs-trigger="hover" data-bs-toggle="popover" data-bs-content="进入线上商单交易市场招商"
                                class="btn-option-secondary ms-3">
                                <i class="bi bi-cloud-arrow-up"></i>
                          </button>
                          <button 
                              :class="{'option-disabled': trans.tag!='1'}"
                              :disabled="trans.tag!='1'"
                             v-preventreclick   @click="taggingMpsV(trans.chainId,trans.id,'3')" type="button" 
                            data-bs-custom-class="custom-popover" data-bs-placement="bottom" data-bs-trigger="hover" data-bs-toggle="popover" data-bs-content="废弃"
                            class="btn-option-secondary ms-3">
                            <i class="bi bi-trash2"></i>
                          </button>
                          <button 
                            :class="{'option-disabled': trans.tag!='2'}"
                            :disabled="trans.tag!='2'"
                             v-preventreclick   @click="taggingMpsV(trans.chainId,trans.id,'4')" type="button" 
                            data-bs-custom-class="custom-popover" data-bs-placement="bottom" data-bs-trigger="hover" data-bs-toggle="popover" data-bs-content="标记为已完成"
                            class="btn-option-secondary ms-3">
                            <i class="bi bi-star"></i>
                          </button>
                        </span>
    
                       </td>
                        <td class="col-mps-title">
    
                          <a class="tb-url-link" :href="'/estudio/studio-mps-action?mps_id='+trans.id">
                            <span class="ellipsis-1">
                              {{trans.title}}
                            </span>
                          </a>
                        </td>
                        <td class="col-type">{{exlpainMpsTagV(trans.tag)}}</td>
                        <td class="col-type">{{explainMpsTypeV(trans.mpsType)}}</td>
                        <td class="col-addTime">{{trans.createAt.replace(new RegExp('-', 'g'), '/')}}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div v-show="isEmptyObjV(mps_list_pagination.records)" class="empty-content-block">
    
                    没有可用的内容！
        
                  </div>
                  <nav v-if="!!mps_list_pagination.paging" aria-label="Page navigation" class="millstone-pagination">
                    <ul class="pagination pagination-lg pagination-dark  border-0">
                      <li class="page-item" @click="pagePre(mps_list_pagination)">
                        <a class="page-link"  aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                        </a>
                      </li>
                      <li class="page-item"  v-for="page in mps_list_pagination.paging.items" :class="{'current-page-active': mps_list_pagination.paging.current == page}" 
                            @click="pageGo(mps_list_pagination,page)"><a class="page-link">{{page}}</a></li>
                      <li class="page-item" @click="pageNext(mps_list_pagination)">
                        <a class="page-link" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                        </a>
                      </li>
                    </ul>
                  </nav>

                </div>

              

              </div>
              
      
            </div>

            <!-- mps chain tab-->
            <div class="tab-pane fade" id="mps_chain-tab-pane" role="tabpanel" aria-labelledby="mps_chain-tab" tabindex="0">
              <div class="d-flex justify-content-between mps-list-header my-3">
                <div class="d-flex">

                  <div class="mps_chain-search d-flex">
                    <form class="nosubmit" onsubmit="return false">
                      <input @keyup.enter.native="retrieveMpsChainTbV" v-model="mps_chain_pagination.param.q"  class="nosubmit mps_chain-search-btn" type="search" placeholder="搜索...">
                    </form>
                  </div>
                  <select v-model="mps_chain_pagination.param.tag" @change="retrieveMpsChainListByTagV" class="form-select ms-3 list-tb-filter-btn custom-select">
                    <option value="">全部状态</option>
                    <option value="1">使用中</option>
                    <option value="2">已废弃</option>
                  </select>

                </div>


                <a href="/estudio/studio-chain-setting">
                  <button type="button" class="btn btn-outline-success btn-save bgPrimaryBlue me-5">
                    <i class="bi bi-plus"></i> 新设模版
                  </button>
                </a>
              </div>
              <div class="table-responsive">

                <div class="table-wrp">

                  <table class="table table-sm table-hover align-middle">
                    <thead>
                      <tr>
                        <th class="col-chain-title-no-option">模版集</th>
                        <th class="col-type">
                          状态
                        </th>
                        <th class="col-fee">正在处理项目数</th>
                        <th class="col-fee">已处理项目数</th>
                        <th class="col-addTime">入库日期</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr v-for="trans in mps_chain_pagination.records">
                        <td class="col-chain-title-no-option">
                          <a class="tb-url-link" :href="'/estudio/studio-chain-setting?option=edit&chain_id='+trans.id">
                            <span class="ellipsis-1">
                              {{trans.title}}
                            </span>
                          </a>
                        </td>
                        <td class="col-type">{{explianMpsChainTagV(trans.tag)}}</td>
                        <td class="col-fee">{{trans.processingCnt}}</td>
                        <td class="col-fee">{{trans.processedCnt}}</td>
                        <td class="col-addTime">{{trans.createAt.replace(new RegExp('-', 'g'), '/')}}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div v-show="isEmptyObjV(mps_chain_pagination.records)" class="empty-content-block">
  
                    没有可用的内容！
        
                  </div>
                  <nav v-if="!!mps_chain_pagination.paging" aria-label="Page navigation" class="millstone-pagination">
                    <ul class="pagination pagination-lg pagination-dark  border-0">
                      <li class="page-item" @click="pagePre(mps_chain_pagination)">
                        <a class="page-link"  aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                        </a>
                      </li>
                      <li class="page-item"  v-for="page in mps_chain_pagination.paging.items" :class="{'current-page-active': mps_chain_pagination.paging.current == page}" 
                            @click="pageGo(mps_chain_pagination,page)"><a class="page-link">{{page}}</a></li>
                      <li class="page-item" @click="pageNext(mps_chain_pagination)">
                        <a class="page-link" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                        </a>
                      </li>
                    </ul>
                  </nav>

                </div>

                

              </div>
             
            </div>
            <!-- mps fund tab-->

            <div class="tab-pane fade" id="mps_fund-tab-pane" role="tabpanel" aria-labelledby="mps_fund-tab" tabindex="0">
              
              <div class="fund-info-container">
                <div class="mps-fund-tip">
                  <span class="help-text">功能告知：商单运营账户，当您接受商单服务商的服务交付时，系统从该账户划转资金给服务商。</span>
                </div>
                <div v-if="!!mpsFund" class="fund_info-wrapper">
                  <div class="fund_head">
                    基金规模
                  </div>
                  <div class="fund_balance">
                    {{mpsFund.mpsBalance}}
                  </div>
                  <div class="fund_footer">
                    <button type="button" class="btn btn-primary modal-btn-ui" data-bs-toggle="modal" data-bs-target="#topUpFundModal">
                      转入
                    </button>
                  </div>
                </div>
                <div v-else class="fund_info-unopen-wrapper py-3">
                  <div class="pt-5">
                    <span>您还未开通商单基金账户</span>
                  </div>
                  <div class="py-3">
                  <button v-preventreclick @click="appleMpsFundAccountV"  type="button" class="btn btn-primary modal-btn-ui" >
                    点击开通
                  </button>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>

          </div>
          <div class="empty-box"></div>

        </main>
        <section class="modals">
          <div class="modal-container">
            <div class="modal fade" id="newMpsModal" data-bs-backdrop="static" tabindex="-1">
              <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content text-color-dark">
                  <div class="modal-header">
                    <h2 class="modal-title fs-5">派发模版商单</h2>
                    <button  type="button" @click="closeMpsModalHandlerV" id="closeMpsModal" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    
                    <div class="row mb-3 mt-3">
                      <label for="inputTitle" class="col-sm-4 col-form-label"> 
                        项目 <div class="help-text"> 项目名称(必填,最大80字符) </div>
                      </label>
                      <div class="col-sm-8">
                        <textarea v-model="newMps.title" class="form-control" maxlength="80" aria-label="With textarea"></textarea>
                      </div>
                    </div>
                    <div class="row mb-3 mt-3">
                      <label for="inputTitle" class="col-sm-4 col-form-label"> 
                        模版集 <div class="help-text"> 选择需要使用的商单模版，必填</div>
                      </label>
                      <div class="col-sm-8">
                        <div class="input-chain-ctn">
                          <div class="input-chain-wrp">

                            <div>
                              <input class="iput" placeholder="输入关键词,键入回车搜索" @click="showOptionV()" @keyup.enter.native="searchV">
                            </div>
                            <div class="op-list hidden">
                                <div class="iop">--请选择--</div>
                                <div v-for="opt in mps_chain_search_pagination.records" class="iop" :id="opt.id">{{opt.title}}</div>
                            </div>

                          </div>

                        </div>

                      </div>
                    </div>
                  </div>
                  <div class="modal-footer btn-light">
                    <button  @click="addAMpsV" 
                    :class="{'disabled':  !newMps.title || !newMps.chainId, 
                        'btn-primary': newMps.title && newMps.chainId,
                        'btn-secondary': !newMps.title || !newMps.chainId}"
                     type="button"  v-preventreclick class="btn modal-btn-ui">创建商单</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="modal-container">
              
            <!--TopUp Fund  Modal -->
            <div v-if="!!mpsFund" class="modal fade" id="topUpFundModal" data-bs-backdrop="static" tabindex="-1">
              <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content text-color-dark">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5">转账到商单基金账户</h1>
                    <button type="button" @click="closeTopUpFundModalHandlerV" id="closeTopUpFundModal" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form>
                      <div>
                        <label for="t1" class="form-label">可调用资金</label>
                        <input  type="text" :value="mpsFund.drawable" maxlength="255" class="form-control" disabled id="t1">
                      </div> 
                         
                    <div class="mt-3">
                      <label>需要补充资金?<a class="url-link-sm-1 ms-2" href="/estudio/studio-shop">前往商城充值</a></label>
                    </div>
                    <div class="mt-3">
                      <label for="t3" class="form-label">转入金额</label>
                      <input id="t3"  @input="transformInputNumberV($event)" v-model="mpsTopUpAmount" min="1" max="50000" step="1"  type="number" class="form-control">
                    </div> 
                    <div v-if="error.length>0" class="mt-3">
                      <span class="error-notice">异常信息：{{error}}</span>
                    </div> 

                    </form>
    
                 
                
                  </div>
                  <div class="modal-footer btn-light">
                    <button :class="{'disabled': !mpsTopUpAmount || (mpsFund.drawable < mpsTopUpAmount) , 
                    'btn-primary': !!mpsTopUpAmount || (mpsFund.drawable >= mpsTopUpAmount) ,
                    'btn-secondary': !mpsTopUpAmount || (mpsFund.drawable < mpsTopUpAmount)  }"  type="button" v-preventreclick @click="topUpMpsFundV"  class="btn modal-btn-ui">转账</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="modal-container">
            <!-- newFastPaperModal -->
            <div class="modal define-template-modal" id="newFastPaperModal" data-bs-backdrop="static" tabindex="-1">
              <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                  <div class="modal-body">

                    <form class="row g-3" onsubmit="return false">
                      <div class="section-name">基础信息</div>

                      <div class="col-12">
                        <label for="fast__inputMpsTitle" class="form-label">项目名称</label>
                        <input v-model="newFastPaper.mpsTitle" tabindex="-1" id="fast__inputMpsTitle" maxlength="80"
                          class="form-control mb-3" type="text" autocomplete="off" placeholder="比如：A产品推广项目">
                      </div>

                      <div class="col-12">
                        <label for="fast__inputTitle" class="form-label">商单名称</label>
                        <input v-model="newFastPaper.title" tabindex="-1" id="fast__inputTitle" maxlength="80"
                          class="form-control mb-3" type="text" autocomplete="off" placeholder="比如：logo设计">
                      </div>

                      <div class="col-12">
                        <label for="fast__inputSow" class="form-label">工作范围</label>
                        <textarea @input="autoHeightV($event)" v-model="newFastPaper.sow" rows="6" maxlength="2000" class="form-control" id="fast__inputSow" placeholder="任务与需求说明、交付说明、售后条款、tech pack等内容"></textarea>
                        <small class="text-muted">{{newFastPaper.sow.length}}/2000</small>
                      </div>

                      <div class="section-name">职能与报酬</div>

                      <div class="col-md-6">
                        <label for="fast__inputPiece" class="form-label">职能
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">如数据分析师、设计、测试等，准确的职能设置可以让系统更精确为您匹配服务商</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.piece" tabindex="-1" id="fast__inputPiece" maxlength="80"
                          class="form-control mb-3" type="text" autocomplete="off" placeholder="">
                      </div>

                      <div class="col-md-6">
                        <label for="fast__inputBonus" class="form-label">奖金（元）
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">完成合约时支付给服务商的货币奖励</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.bonus" @input="transformInputNumberV($event)" tabindex="-1" id="fast__inputBonus" min="1" max="5000000"
                          class="form-control mb-3" type="text" autocomplete="off">
                      </div>

                      <div class="section-name">时间安排</div>

                      <div class="col-md-4">
                        <label for="fast__inputDeliveryCycle" class="form-label">交付周期（天）
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">告知服务商理想条件下，应在指定的时间内给出最终交付</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.deliveryCycle" @input="transformInputNumberV($event)" tabindex="-1" id="fast__inputDeliveryCycle" min="1" max="50000"
                          class="form-control mb-3" type="text" autocomplete="off">
                      </div>

                      <div class="col-md-4">
                        <label for="fast__inputContractValidityPeriod" class="form-label">招商期（天）
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">设置商单的有效时间，超过有效时间，还未有服务商接单的商单将自动失效，失效的商单不可招商</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.contractValidityPeriod" @input="transformInputNumberV($event)" tabindex="-1" id="fast__inputContractValidityPeriod" min="1" max="50000"
                          class="form-control mb-3" type="text" autocomplete="off">
                      </div>

                      <div class="col-md-4">
                        <label for="fast__inputBidElectricity" class="form-label">接单消耗电量
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">服务商接单时需要消耗的电量值</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.bidElectricity" @input="transformInputNumberV($event)" tabindex="-1" id="fast__inputBidElectricity" min="1" max="50000"
                          class="form-control mb-3" type="text" autocomplete="off">
                      </div>

                      <div class="section-name">准入条件</div>

                      <div class="col-md-4">
                        <label for="fast__inputDifficulty" class="form-label">任务难度
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">初级：任务或活动相对简单，容易理解和完成；中级：需要一定的经验或技能，但仍然在大多数人的能力范围内；高级：需要更深入的知识、更复杂的策略或更高的专注度；专家级：在特定领域拥有丰富经验和高度专业知识；大师级：最高难度级别，需在某个领域的取得卓越成就和非凡的技能</span>
                          </div>
                        </label>
                        <select id="fast__inputDifficulty" v-model="newFastPaper.difficulty" class="form-select">
                          <option value="easy">初级</option>
                          <option value="medium">中级</option>
                          <option value="advanced">高级</option>
                          <option value="expert">专家</option>
                          <option value="master">大师</option>
                        </select>
                      </div>

                      <div class="col-md-4">
                        <label for="fast__inputLocation" class="form-label">工作地点
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">实际工作地址或常驻办公地</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.location" tabindex="-1" id="fast__inputLocation" maxlength="8"
                          class="form-control mb-3" type="text" autocomplete="off">
                      </div>

                      <div class="col-md-4">
                        <label for="fast__inputExperience" class="form-label">经验要求（年）
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">最低工作经验或行业资历限制，值为空系统将处理为不限经验</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.experience" @input="transformInputNumberV($event)" tabindex="-1" id="fast__inputExperience" min="1" max="40"
                          class="form-control mb-3" type="text" autocomplete="off" placeholder="不限">
                      </div>

                      <div class="section-name">服务商指定（可选）</div>

                      <div class="col-md-6">
                        <label class="form-label">1级服务商
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">指定特定服务商，商单会直接提交给该服务商</span>
                          </div>
                        </label>
                        <model-select
                            class="light-model-select"
                            :options="supplierOptions"
                            v-model="supplierSelectedItem"
                            placeholder="">
                        </model-select>
                      </div>

                      <div class="col-md-6">
                        <label for="fast__inputDuration" class="form-label">机遇期（天）
                          <div class="tm-tooltip">
                            <i class="bi bi-info-circle"></i>
                            <span class="tm-tooltiptext">指定1级服务商接单周期，超出该时间间隔1级服务商未接单，商单进入商单市场</span>
                          </div>
                        </label>
                        <input v-model="newFastPaper.duration" @input="transformInputNumberV($event)" tabindex="-1" id="fast__inputDuration" min="1" max="50000"
                          class="form-control mb-3" type="text" autocomplete="off" :disabled="!supplierSelectedItem">
                      </div>

                      <div class="section-name">技能&资质（可选）</div>
                      <div class="col-12">
                        <div class="tags-wrapper">
                          <div class="tag-content">
                            <ul>
                              <li v-for="(tag, index) in newFastPaper.skills" :key="index">
                                {{ tag }}
                                <span><i class="bi bi-x" @click="removeNewModalSkillV(index)"></i></span>
                              </li>
                              <input id="fast__inputSkills"  maxlength="40" class="form-control" @keyup="deleteContentOrTagFromNewModalSkillV"
                                @keyup.enter.prevent="addSkillInNewModalV" type="text" spellcheck="false" placeholder="输入后回车添加">
                            </ul>
                          </div>
                          <div class="tag-details">
                            <p class="help-text">还可添加<span>{{5 - newFastPaper.skills.length}}</span>标签</p>
                          </div>
                        </div>
                      </div>

                    </form>

                  </div>

                  <div class="modal-footer fresh-ui-modal-footer">
                    <button type="button" @click="closeNewFastPaperHandlerV" data-bs-dismiss="modal" class="btn btn-outline-secondary fresh-ui-btn">
                      <div class="contents">取消</div>
                    </button>
                    <button v-preventreclick @click="createOneFastMpsV" type="button" :class="{'disabled': !validateNewFastPaperV()}" class="btn btn-primary fresh-ui-btn">创建商单</button>
                  </div>

                </div>
              </div>
            </div>
          </div>

        </section>
        
      </content>
      <footer></footer>
  </pt-app>
  <section class="feedback_offcanvas" id="section_feedback_offcanvas">

    <div class="offcanvas offcanvas-end" tabindex="-1" id="feedback_offcanvas_right" aria-labelledby="feedbackOffcanvasRightLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="feedbackOffcanvasRightLabel">发送反馈到小蔚</h5>
        <button id="closeFeedbackOffcanvas" type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <form id="feedback-form">
          <div class="mt-3">
            <label for="input_issue" class="form-label">您遇到的具体问题是什么(必填,300字以内)</label>
            <textarea  rows="8" type="text" maxlength="300" class="form-control"  id="input_issue"></textarea>
          </div> 
          <div class="mt-3">
            <label class="form-label">附件图片(选填)</label>
            <div class="feedback-attachment-upload-container dropzone-wrapper">
              <img  id="lastestFeedbackAttachment" >
              <div class="dropzone-desc">
                <i class="bi bi-cloud-plus"></i>
              </div>
              <input type="file" id="input_issue_attachment"  accept="image/jpg, image/png, image/jpeg" class="dropzone">
            </div>
          </div>  
          <div class="mt-3">
            <label for="input_issue_contact" class="form-label">您的联系方式(选填)</label>
            <input id="input_issue_contact"  min="1" max="50000" step="1" type="text" class="form-control" placeholder="请留下邮箱或电话，使我们快速反馈">
          </div> 
          <button type="submit" class="btn btn-primary mt-5 w-100">提交</button>
        </form>
      </div>
    </div>

  </section>
  <script type="module" src="/common/javascripts/feedback.js"></script>
  <script type="module" src="/common/javascripts/tm.js"></script>
  <script type="module" src="/estudio/javascripts/studio-mps.js"></script>





</body>
</html>